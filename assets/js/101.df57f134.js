(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[101],{

/***/ "./docs/spring-cloud-tutorial/config/006.md":
/*!**************************************************!*\
  !*** ./docs/spring-cloud-tutorial/config/006.md ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _006_md_vue_type_template_id_797a4ed2___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./006.md?vue&type=template&id=797a4ed2& */ "./docs/spring-cloud-tutorial/config/006.md?vue&type=template&id=797a4ed2&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");

var script = {}


/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(
  script,
  _006_md_vue_type_template_id_797a4ed2___WEBPACK_IMPORTED_MODULE_0__["render"],
  _006_md_vue_type_template_id_797a4ed2___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./docs/spring-cloud-tutorial/config/006.md?vue&type=template&id=797a4ed2&":
/*!*********************************************************************************!*\
  !*** ./docs/spring-cloud-tutorial/config/006.md?vue&type=template&id=797a4ed2& ***!
  \*********************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_006_md_vue_type_template_id_797a4ed2___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"2e9acca5-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib??ref--1-1!../../../node_modules/@vuepress/markdown-loader??ref--1-2!./006.md?vue&type=template&id=797a4ed2& */ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"2e9acca5-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./docs/spring-cloud-tutorial/config/006.md?vue&type=template&id=797a4ed2&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_006_md_vue_type_template_id_797a4ed2___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_006_md_vue_type_template_id_797a4ed2___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621152237191.png":
/*!*******************************************************************************************!*\
  !*** ./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621152237191.png ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/markdown-img-paste-20190621152237191.35e7cb9a.png";

/***/ }),

/***/ "./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621153355852.png":
/*!*******************************************************************************************!*\
  !*** ./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621153355852.png ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/markdown-img-paste-20190621153355852.05d5db23.png";

/***/ }),

/***/ "./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621153501604.png":
/*!*******************************************************************************************!*\
  !*** ./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621153501604.png ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/markdown-img-paste-20190621153501604.5c4415e7.png";

/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"2e9acca5-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./docs/spring-cloud-tutorial/config/006.md?vue&type=template&id=797a4ed2&":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"2e9acca5-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??ref--1-1!./node_modules/@vuepress/markdown-loader??ref--1-2!./docs/spring-cloud-tutorial/config/006.md?vue&type=template&id=797a4ed2& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{"slot-key":_vm.$parent.slotKey}},[_c('h1',{attrs:{"id":"服务端输出格式支持"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#服务端输出格式支持"}},[_vm._v("#")]),_vm._v(" 服务端输出格式支持")]),_vm._v(" "),_c('p',[_vm._v("配置服务支持以下格式的输出配置文件，对于 spring boot 来说，json 格式是最方便的，因为能直接映射到 Environment 对象上，\n而其他程序可以通过多种格式的支持找到自己满意的格式")]),_vm._v(" "),_c('ul',[_c('li',[_c('code',[_vm._v(".yml")])]),_vm._v(" "),_c('li',[_c('code',[_vm._v(".json")])]),_vm._v(" "),_c('li',[_c('code',[_vm._v(".yaml")])]),_vm._v(" "),_c('li',[_c('code',[_vm._v(".properties")])])]),_vm._v(" "),_c('p',[_vm._v("比如以下地址都是访问同一个配置文件，只是返回的数据内容格式不一样")]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("http://localhost:11000/mrcode-dev.json\nhttp://localhost:11000/mrcode-dev.properties\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br')])]),_c('p',[_vm._v("YAML and properties 还支持 "),_c('code',[_vm._v("${name}")]),_vm._v(" 的占位符，")]),_vm._v(" "),_c('div',{staticClass:"language-yml line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-yml"}},[_c('code',[_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("test2")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'xx ${name}'")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# 客户端上使用占位符，但是该 name 是在远程配置服务商的。")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('p',[_vm._v("当使用 yaml 与 properties 来格式化内容的时候，有一些限制，主要与元数据的丢失有关。\n例如，JSON 结构为一个有序的属性源列表，其名称与源相关。\nyml 和 properties 被合并到一个映射中，即使值的原点有多个源，并且原始源文件的名称也会丢失。\n此外，YAML 表示也不一定是支持存储库中 YAML 源的可靠表示。由一个平面属性源列表构成，必须对键的形式进行假设。")]),_vm._v(" "),_c('p',[_vm._v("上面一段话，没有遇到过那里有问题，反正也说不明白，简单说，要格式化内容请使用 json 格式")]),_vm._v(" "),_c('h2',{attrs:{"id":"纯文本支持"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#纯文本支持"}},[_vm._v("#")]),_vm._v(" 纯文本支持")]),_vm._v(" "),_c('p',[_vm._v("你可能需要针对某些纯文本配置进行定制，而不是使用 yml 来映射 Environment 对象，\n"),_c('code',[_vm._v("/{name}/{profile}/{label}/{path}")]),_vm._v(" 这个断点提供了这样的功能。前面的与 Environment 含义一样，\n最后一个 path 是一个具体的文件，如 log.xml，nginx.conf")]),_vm._v(" "),_c('p',[_vm._v("下面是一个例子，提供一个纯文本的 nginx.config 配置文件，在该配置文件中通过 "),_c('code',[_vm._v("${}")]),_vm._v(" 占位符引用 yml 中的一些配置属性")]),_vm._v(" "),_c('p',[_vm._v("如下图所示，在一个 git 仓库中包含 application.yml 和 nginx.conf")]),_vm._v(" "),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/markdown-img-paste-20190621152237191.png */ "./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621152237191.png"),"alt":""}})]),_vm._v(" "),_c('p',[_vm._v("nginx.conf 文件中使用占位符应用了 环境配置文件中的 nginx.server.name 属性")]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("server {\n    listen              80;\n    server_name         ${nginx.server.name};\n}\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('p',[_vm._v("application.yml 作为所有客户端共享的配置文件；下面文件中的 "),_c('code',[_vm._v("---")]),_vm._v(" 可以看成是使用分隔符分成了多个配置文件")]),_vm._v(" "),_c('ul',[_c('li',[_vm._v("default profile: 第一段配置没有指定 spring.profiles ，那么默认就是 default")]),_vm._v(" "),_c('li',[_vm._v("development：第二段配置指定了 development")])]),_vm._v(" "),_c('div',{staticClass:"language-yml line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-yml"}},[_c('code',[_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("nginx")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v("\n  "),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("server")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v("\n    "),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("name")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v(" example.com\n"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("---")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("spring")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v("\n  "),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("profiles")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v(" development\n"),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("nginx")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v("\n  "),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("server")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v("\n    "),_c('span',{pre:true,attrs:{"class":"token key atrule"}},[_vm._v("name")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(":")]),_vm._v(" develop.com\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("9")]),_c('br')])]),_c('p',[_vm._v("访问地址 "),_c('code',[_vm._v("http://localhost:11000/mrcode/default/master/nginx.conf")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("server {\n    listen              80;\n    server_name         example.com;\n}\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('div',{staticClass:"custom-block tip"},[_c('p',{staticClass:"custom-block-title"},[_vm._v("tip")]),_vm._v(" "),_c('p',[_vm._v("在浏览器中看到的文本可能只有一行，这是因为被浏览器自动格式化了，所以可以通过下载工具进行下载，比如 360 浏览器中的下载")]),_vm._v(" "),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/markdown-img-paste-20190621153501604.png */ "./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621153501604.png"),"alt":""}})]),_vm._v(" "),_c('p',[_vm._v("下图是浏览器和下载后的文本内容对比")]),_vm._v(" "),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/markdown-img-paste-20190621153355852.png */ "./docs/spring-cloud-tutorial/config/assets/markdown-img-paste-20190621153355852.png"),"alt":""}})])]),_vm._v(" "),_c('p',[_vm._v("访问地址 "),_c('code',[_vm._v("http://localhost:11000/mrcode/development/master/nginx.conf")])]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("server {\n    listen              80;\n    server_name         develop.com;\n}\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('p',[_vm._v("通过测试可以看到，配置服务支持输出占位符的纯文本，这就让配置服务中心更加的灵活了，可以给非 boot 应用提供配置服务")]),_vm._v(" "),_c('p',[_vm._v("关于搜索路径，与 yml 一致，唯一的区别就是：不聚合所有匹配的资源，只返回第一个匹配的资源。")]),_vm._v(" "),_c('p',[_vm._v("与用于环境配置的源文件一样，配置文件用于解析文件名。因此，如果您想要一个特定于 profile 的文件，\n可以使用一个名为 "),_c('code',[_vm._v("logback-development.xml")]),_vm._v(" 的文件解析 "),_c('code',[_vm._v("/*/development/*/logback.xml")]),_vm._v(" (而不是 logback.xml)。")]),_vm._v(" "),_c('p',[_vm._v("如同时存在以下两个文件，访问地址 "),_c('code',[_vm._v("http://localhost:11000/mrcode/development/master/nginx.conf")]),_vm._v("，将匹配 nginx-development.conf")]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("nginx.conf\nnginx-development.conf\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br')])])])}
var staticRenderFns = []



/***/ })

}]);
//# sourceMappingURL=101.df57f134.js.map