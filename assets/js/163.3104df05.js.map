{"version":3,"sources":["webpack:///./docs/cache-pdp/110.md","webpack:///./docs/cache-pdp/110.md?c61a","webpack:///./docs/cache-pdp/assets/markdown-img-paste-20190618231112839.png","webpack:///./docs/cache-pdp/110.md?0b65"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAiF;AACjF;;;AAGA;AAC0F;AAC1F,gBAAgB,2GAAU;AAC1B;AACA,EAAE,6EAAM;AACR,EAAE,sFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gF;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA,iBAAiB,qBAAuB,kE;;;;;;;;;;;;ACAxC;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,qCAAqC,OAAO,gCAAgC,WAAW,OAAO,0CAA0C,UAAU,mCAAmC,6CAA6C,oFAAoF,OAAO,gBAAgB,UAAU,mCAAmC,mBAAmB,gyBAAgyB,OAAO,MAAM,mBAAO,CAAC,2HAAmD,YAAY,yBAAyB,OAAO,uBAAuB,UAAU,mCAAmC,0BAA0B;AACx9C","file":"assets/js/163.3104df05.js","sourcesContent":["import { render, staticRenderFns } from \"./110.md?vue&type=template&id=15d3806c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"2e9acca5-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??ref--1-1!../../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./110.md?vue&type=template&id=15d3806c&\"","module.exports = __webpack_public_path__ + \"assets/img/markdown-img-paste-20190618231112839.a32f7aa5.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"_110-高并发场景下恐怖的缓存雪崩现象以及导致系统全盘崩溃的后果\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#_110-高并发场景下恐怖的缓存雪崩现象以及导致系统全盘崩溃的后果\"}},[_vm._v(\"#\")]),_vm._v(\" 110. 高并发场景下恐怖的缓存雪崩现象以及导致系统全盘崩溃的后果\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"什么是缓存雪崩\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#什么是缓存雪崩\"}},[_vm._v(\"#\")]),_vm._v(\" 什么是缓存雪崩？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"简单说：由于缓存不可用，导致大量请求访问后端服务，可能 mysql 扛不住高并发而打死，\\n像滚雪球一样，影响越来越大，最后导致整个网站崩溃不可用\")]),_vm._v(\" \"),_c('p',[_vm._v(\"至于为什么会像滚雪球一样？整个与整个系统的架构有关；\\n比如在这之前讲解的知识点（本教程 001~060 章内容），根据这个背景来讲解下雪崩过程\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"redis 集群彻底崩溃：不可用\")]),_vm._v(\" \"),_c('li',[_vm._v(\"缓存服务在请求 redis 时，会有大量的线程阻塞，占用资源\")]),_vm._v(\" \"),_c('li',[_vm._v(\"超时请求失败之后，会去 mysql 查询原始数据，mysql 抗不住，被打死\")]),_vm._v(\" \"),_c('li',[_vm._v(\"源头服务由于 mysql 被打死，对源服务的请求也被阻塞，占用资源\")]),_vm._v(\" \"),_c('li',[_vm._v(\"缓存服务大量的资源全部耗费在访问 redis 和 源服务上；最后自己被拖死，无法提供服务\")]),_vm._v(\" \"),_c('li',[_vm._v(\"nginx 无法访问缓存服务，只能基于本地缓存提供服务，当缓存过期后，就耗费在访问缓存服务上\")]),_vm._v(\" \"),_c('li',[_vm._v(\"最后整个网站崩溃，页面加载不出来任何数据\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"以下是这个流程的一个图解\")]),_vm._v(\" \"),_c('p',[_c('img',{attrs:{\"src\":require(\"./assets/markdown-img-paste-20190618231112839.png\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"行业真实的缓存雪崩经验和教训\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#行业真实的缓存雪崩经验和教训\"}},[_vm._v(\"#\")]),_vm._v(\" 行业真实的缓存雪崩经验和教训\")]),_vm._v(\" \"),_c('p',[_vm._v(\"某电商，之前就是出现过，整个缓存的集群彻底崩溃了，因为主要是集群本身的 bug，导致自己把自己给弄死了，虽然当时也是部署了双机房的，但是还是死了\")]),_vm._v(\" \"),_c('p',[_vm._v(\"该电商几乎所有的应用都是基于那个缓存集群去开发的，导致各种服务的线程资源全部被耗尽，然后用在了访问那个缓存集群时的等待、超时和报错上了；然后导致各种服务就没有资源对外提供服务\")]),_vm._v(\" \"),_c('p',[_vm._v(\"再加上各种降级措施也没做好，直接就是整体系统的全盘崩溃；导致网站就没法对外出售商品，导致了很大数额的经济的损失\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}