{"version":3,"sources":["webpack:///./docs/cache-pdp/dr/185.md","webpack:///./docs/cache-pdp/dr/185.md?d424","webpack:///./docs/cache-pdp/dr/assets/markdown-img-paste-20190925234417327.png","webpack:///./docs/cache-pdp/dr/185.md?7c47"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAiF;AACjF;;;AAGA;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B;AACA,EAAE,6EAAM;AACR,EAAE,sFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gF;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA,iBAAiB,qBAAuB,kE;;;;;;;;;;;;ACAxC;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,qCAAqC,OAAO,gCAAgC,WAAW,OAAO,sDAAsD,UAAU,mCAAmC,yDAAyD,mUAAmU,OAAO,8BAA8B,UAAU,mCAAmC,iCAAiC,iTAAiT,OAAO,iCAAiC,UAAU,mCAAmC,oCAAoC,wIAAwI,0CAA0C,YAAY,gBAAgB,yBAAyB,wuBAAwuB,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,2VAA2V,0CAA0C,YAAY,gBAAgB,yBAAyB,2OAA2O,mOAAmO,GAAG,mOAAmO,GAAG,mOAAmO,iCAAiC,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,oCAAoC,0BAA0B,sCAAsC,OAAO,iCAAiC,UAAU,mCAAmC,oCAAoC,4MAA4M,0CAA0C,YAAY,gBAAgB,yBAAyB,4EAA4E,aAAa,GAAG,aAAa,gBAAgB,aAAa,GAAG,gBAAgB,+BAA+B,mCAAmC,aAAa,0BAA0B,mHAAmH,OAAO,MAAM,mBAAO,CAAC,8HAAmD,YAAY;AAC9gK","file":"assets/js/179.4bdee785.js","sourcesContent":["import { render, staticRenderFns } from \"./185.md?vue&type=template&id=4738f332&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"2e9acca5-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./185.md?vue&type=template&id=4738f332&\"","module.exports = __webpack_public_path__ + \"assets/img/markdown-img-paste-20190925234417327.74e39122.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"_185-商品详情页动态渲染系统-所有服务最终修改以及-jenkins-docker-部署\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#_185-商品详情页动态渲染系统-所有服务最终修改以及-jenkins-docker-部署\"}},[_vm._v(\"#\")]),_vm._v(\" 185. 商品详情页动态渲染系统：所有服务最终修改以及 jenkins+docker 部署\")]),_vm._v(\" \"),_c('p',[_vm._v(\"本章不部署所有的了，前面使用 jenkins + docker 部署了一个服务，\\n其他的服务也是类似的构建步骤，只是需要把其中的各种数据库等都写生产环境的 ip 地址，就可以了。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"本次要实现这些部署，可能要耗费大量的时间，就不实践了\")]),_vm._v(\" \"),_c('p',[_vm._v(\"查看某个容器运行的日志：\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"查看-docker-容器应用日志-logs\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#查看-docker-容器应用日志-logs\"}},[_vm._v(\"#\")]),_vm._v(\" 查看 docker 容器应用日志 logs\")]),_vm._v(\" \"),_c('p',[_vm._v(\"语法：\"),_c('code',[_vm._v(\"docker logs -f -t --tail 行数 容器名\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"比如：\"),_c('code',[_vm._v(\"docker logs --tail=\\\"100\\\" eshop-eureka-server\")]),_vm._v(\" 获取容器运行后 100 行的文件内容（文件末尾）\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"查看-docker-容器应用日志-inspect\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#查看-docker-容器应用日志-inspect\"}},[_vm._v(\"#\")]),_vm._v(\" 查看 docker 容器应用日志 inspect\")]),_vm._v(\" \"),_c('p',[_vm._v(\"通过查看某个镜像 CONTAINER ID 的详细信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"[root@localhost eshop-eureka-server]# docker ps -a\\nCONTAINER ID        IMAGE                                                       COMMAND                  CREATED             STATUS                  PORTS                    NAMES\\n45f7ac13c9c5        192.168.99.20:2375/eshop-detail/eshop-eureka-server:1.0.0   \\\"java -Djava.securit…\\\"   34 minutes ago      Up 34 minutes           0.0.0.0:8761->8761/tcp   eshop-eureka-server\\n27783f1b4c9f        hello-world                                                 \\\"/hello\\\"                 3 days ago          Exited (0) 3 days ago                            stupefied_matsumoto\\n[root@localhost eshop-eureka-server]# docker inspect 45f7ac13c9c5\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br')])]),_c('p',[_vm._v(\"在详细信息中找到 LogPath : \"),_c('code',[_vm._v(\"\\\"LogPath\\\": \\\"/var/lib/docker/containers/45f7ac13c9c5d963489f9de09262258950a7b3dcf5a4b91d3eadbefae890c7fc/45f7ac13c9c5d963489f9de09262258950a7b3dcf5a4b91d3eadbefae890c7fc-json.log\\\",\")]),_vm._v(\"，这个路径则是宿主机上的物理文件路径，里面就是存放的日志，可以直接查看，比如\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"[root@localhost eshop-eureka-server]# tail -f /var/lib/docker/containers/45f7ac13c9c5d963489f9de09262258950a7b3dcf5a4b91d3eadbefae890c7fc/45f7ac13c9c5d963489f9de09262258950a7b3dcf5a4b91d3eadbefae890c7fc-json.log\\n{\\\"log\\\":\\\"2019-09-22 15:44:12.581  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms\\\\n\\\",\\\"stream\\\":\\\"stdout\\\",\\\"time\\\":\\\"2019-09-22T15:44:12.582373481Z\\\"}\\n{\\\"log\\\":\\\"2019-09-22 15:45:12.581  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms\\\\n\\\",\\\"stream\\\":\\\"stdout\\\",\\\"time\\\":\\\"2019-09-22T15:45:12.582319173Z\\\"}\\n{\\\"log\\\":\\\"2019-09-22 15:46:12.581  INFO 1 --- [a-EvictionTimer] c.n.e.registry.AbstractInstanceRegistry  : Running the evict task with compensationTime 0ms\\\\n\\\",\\\"stream\\\":\\\"stdout\\\",\\\"time\\\":\\\"2019-09-22T15:46:12.581907101Z\\\"}\\n\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br')])]),_c('h2',{attrs:{\"id\":\"docker-运行后的-host-name-问题\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#docker-运行后的-host-name-问题\"}},[_vm._v(\"#\")]),_vm._v(\" docker 运行后的 host name 问题\")]),_vm._v(\" \"),_c('p',[_vm._v(\"需要添加 \"),_c('code',[_vm._v(\"--network=\\\"host\\\"\")]),_vm._v(\"，参数，host 网络模式，所有容器端口都对应属主机端口，不存在映射关系。\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"docker run -d -p 8767:8767 --network=\\\"host\\\" --name ${PROJECT_NAME} ${REGISTRY_URL}/eshop-detail/${PROJECT_NAME}:${PROJECT_VERSION}\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])]),_c('p',[_vm._v(\"下图展示了用 host 与不用 host 注册到 eureka 的区别\")]),_vm._v(\" \"),_c('p',[_c('img',{attrs:{\"src\":require(\"./assets/markdown-img-paste-20190925234417327.png\"),\"alt\":\"\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}