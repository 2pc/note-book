(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1444:function(t,s,a){t.exports=a.p+"assets/img/df5f394cc3c0beaee306881704512cdb.df5f394c.png"},1445:function(t,s,a){t.exports=a.p+"assets/img/4d6c0dc075aebb6023ebcd791e787d11.4d6c0dc0.jpg"},1446:function(t,s,a){t.exports=a.p+"assets/img/image-20210106165331934.962b89d9.png"},1447:function(t,s){t.exports="data:image/png;base64,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"},1448:function(t,s,a){t.exports=a.p+"assets/img/image-20210106170945960.2cb5ddbf.png"},1449:function(t,s,a){t.exports=a.p+"assets/img/image-20210106172153985.2b849136.png"},1450:function(t,s,a){t.exports=a.p+"assets/img/image-20210106172547775.92838179.png"},1451:function(t,s,a){t.exports=a.p+"assets/img/image-20210106173054146.37aad779.png"},1452:function(t,s,a){t.exports=a.p+"assets/img/image-20210106182123054.529ec2aa.png"},2089:function(t,s,a){"use strict";a.r(s);var e=a(13),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_05丨断言-如何用断言更好地实现替换重复出现的单词"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_05丨断言-如何用断言更好地实现替换重复出现的单词"}},[t._v("#")]),t._v(" 05丨断言：如何用断言更好地实现替换重复出现的单词？")]),t._v(" "),e("p",[t._v("今天我来和你聊聊正则断言（Assertion）。")]),t._v(" "),e("p",[t._v("什么是断言呢？简单来说，"),e("strong",[t._v("断言是指对匹配到的文本位置有要求")]),t._v("。这么说你可能还是没理解，我通过一些例子来给你讲解。你应该知道  "),e("code",[t._v("\\d{11}")]),t._v("  能匹配上 11 位数字，但这 11 位数字可能是 18 位身份证号中的一部分。再比如，去查找一个单词，我们要查找 tom，但其它的单词，比如 tomorrow 中也包含了 tom。")]),t._v(" "),e("p",[t._v("也就是说，在有些情况下，我们对要匹配的文本的位置也有一定的要求。为了解决这个问题，"),e("strong",[t._v("正则中提供了一些结构，只用于匹配位置，而不是文本内容本身，这种结构就是断言")]),t._v("。常见的断言有三种：单词边界、行的开始或结束以及环视。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1444),alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"单词边界-word-boundary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单词边界-word-boundary"}},[t._v("#")]),t._v(" 单词边界（Word Boundary）")]),t._v(" "),e("p",[t._v("在讲单词边界具体怎么使用前，我们先来看一下例子。")]),t._v(" "),e("p",[t._v("我们想要把下面文本中的 tom 替换成 jerry。注意一下，在文本中出现了 tomorrow 这个单词，"),e("strong",[t._v("tomorrow 也是以 tom 开头的")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("tom asked me if I would go fishing with him tomorrow.\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("中文翻译：Tom 问我明天能否和他一同去钓鱼。")]),t._v(" "),e("p",[t._v("利用前面学到的知识，我们如果直接替换，会出现下面这种结果。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("替换前：tom asked me if I would go fishing with him tomorrow.\n替换后：jerry asked me if I would go fishing with him jerryorrow.\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("这显然是错误的，因为明天这个英语单词里面的 tom 也被替换了。")]),t._v(" "),e("p",[t._v("那正则是如何解决这个问题的呢？单词的组成一般可以用元字符 "),e("code",[t._v("\\w+")]),t._v(" 来表示，"),e("code",[t._v("\\w")]),t._v(" 包括了大小写字母、下划线和数字（即 "),e("code",[t._v("[A-Za-z0-9_]")]),t._v("）。那如果我们能找出单词的边界，也就是当出现了  "),e("strong",[e("code",[t._v("\\w")]),t._v(" 表示的范围以外")]),t._v(" 的字符，比如引号、空格、标点、换行等这些符号，我们就可以在正则中使用 "),e("code",[t._v("\\b")]),t._v(" 来表示单词的边界。 "),e("code",[t._v("\\b")]),t._v("  中的 b 可以理解为是 **边界（Boundary）**这个单词的首字母。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1445),alt:"img"}})]),t._v(" "),e("p",[t._v("根据刚刚学到的内容，在 "),e("strong",[t._v("准确匹配单词时")]),t._v("，我们使用  "),e("code",[t._v("\\b\\w+\\b")]),t._v("  就可以实现了。")]),t._v(" "),e("p",[t._v("下面我们以 Python3 语言为例子，为你实现上面提到的 "),e("code",[t._v("tom 替换成 jerry")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" re\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" test_str "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tom asked me if I would go fishing with him tomorrow."')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" re"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sub"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\btom\\b'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jerry'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" test_str"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tom asked me if I would go fishing with him tomorrow.'")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("h2",{attrs:{id:"行的开始或结束"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#行的开始或结束"}},[t._v("#")]),t._v(" 行的开始或结束")]),t._v(" "),e("p",[t._v("和单词的边界类似，在正则中还有 "),e("strong",[t._v("文本每行的开始和结束")]),t._v("，如果我们要求匹配的内容要出现在一行文本开头或结尾，就可以使用 "),e("code",[t._v("^")]),t._v(" 和 "),e("code",[t._v("$")]),t._v(" 来进行位置界定。")]),t._v(" "),e("p",[t._v("我们先说一下行的结尾是如何判断的。你应该知道换行符号。在计算机中，回车（"),e("code",[t._v("\\r")]),t._v("）和换行（"),e("code",[t._v("\\n")]),t._v("）其实是两个概念，并且在不同的平台上，换行的表示也是不一样的。我在这里列出了 Windows、Linux、macOS 平台上换行的表示方式。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("平台")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("换行符")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Windows")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("\\r\\n")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("Linux")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("\\n")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[t._v("macOS")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("\\n")])])])])]),t._v(" "),e("p",[t._v("那你可能就会问了，匹配行的开始或结束有什么用呢？")]),t._v(" "),e("h3",{attrs:{id:"日志起始行判断"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#日志起始行判断"}},[t._v("#")]),t._v(" 日志起始行判断")]),t._v(" "),e("p",[t._v("最常见的例子就是日志收集，我们在收集日志的时候，通常可以指定日志行的开始规则，比如 "),e("strong",[t._v("以时间开头，那些不是以时间开头的可能就是打印的堆栈信息")]),t._v("。我来给你一个以日期开头，下面每一行都属于同一篇日志的例子。")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('\n[2020-05-24 12:13:10] "/home/tu/demo.py"\nTraceback (most recent call last):\n  File "demo.py", line 1, in <module>\n    1/0\nZeroDivisionError: integer division or modulo by zero\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("p",[t._v("在这种情况下，我们就通过日期时间开头来判断哪一行是日志的第一行，在日期时间后面的日志都属于同一条日志。除非我们看见下一个日期时间的出现，才是下一条日志的开始。")]),t._v(" "),e("p",[t._v("在这里没有示例，"),e("code",[t._v("(?s)^\\[.+")]),t._v("  使用单行模式下，在点号是贪心模式下，只会匹配到以时间开头的整个文本，相当于只匹配到了一条信息，后续再有时间开头的也会算成这一条信息。")]),t._v(" "),e("h3",{attrs:{id:"输入数据校验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入数据校验"}},[t._v("#")]),t._v(" 输入数据校验")]),t._v(" "),e("p",[t._v("在 Web 服务中，我们常常需要对输入的内容进行校验，比如要求输入 6 位数字，我们可以使用 "),e("code",[t._v("\\d{6}")]),t._v("  来校验。但你需要注意到，如果用户输入的是 6 位以上的数字呢？在这种情况下，如果不去要求用户录入的 6 位数字必须是行的开头或结尾，就算验证通过了，结果也可能不对。比如下面的示例，在不加行开始和结束符号时，用户输入了 7 位数字，也是能校验通过的：")]),t._v(" "),e("div",{staticClass:"language-python line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-python"}},[e("code",[t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" re\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" re"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\d{6}'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1234567"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 能匹配上 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("包含"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("位数字"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" re"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^\\d{6}'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1234567"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 能匹配上 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("以"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("位数字开头"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" re"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\d{6}$'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1234567"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 能匹配上 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("以"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("位数字结尾"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" re"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^\\d{6}$'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1234567"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 不能匹配上 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("只能是"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("位数字"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" re"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'^\\d{6}$'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 能匹配上 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("只能是"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("位数字"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("p",[t._v("在前面的匹配模式章节中，我们学习过，在多行模式下，"),e("code",[t._v("^")]),t._v(" 和 "),e("code",[t._v("$")]),t._v(" 符号可以匹配每一行的开头或结尾。大部分实现默认不是多行匹配模式，但也有例外，比如 Ruby 中默认是多行模式。所以对于校验输入数据来说，一种更严谨的做法是，使用 "),e("code",[t._v("\\A")]),t._v(" 和 "),e("code",[t._v("\\z")]),t._v(" （Python 中使用 "),e("code",[t._v("\\Z")]),t._v("） 来匹配整个文本的开头或结尾。")]),t._v(" "),e("p",[t._v("解决这个问题还有一种做法，我们可以在使用正则校验前，先判断一下字符串的长度，如果不满足长度要求，那就不需要再用正则去判断了。相当于你用正则解决主要的问题，而不是所有问题，这也是前面说的使用正则要克制。")]),t._v(" "),e("h2",{attrs:{id:"环视-look-around"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环视-look-around"}},[t._v("#")]),t._v(" 环视（ Look Around）")]),t._v(" "),e("p",[t._v("《孟子·梁惠王下》中有一个成语「王顾左右而言他」。其中「王顾左右」可以理解成「环视」，看看左边，再看看右边。在正则中我们有时候也需要瞻前顾后，找准定位。"),e("strong",[t._v("环视就是要求匹配部分的前面或后面要满足（或不满足）某种规则")]),t._v("，有些地方也称环视为 "),e("strong",[t._v("零宽断言")]),t._v("。")]),t._v(" "),e("p",[t._v("那具体什么时候我们会用到环视呢？我来举个例子。邮政编码的规则是第一位是 1-9，一共有 6 位数字组成。现在要求你写出一个正则，提取文本中的邮政编码。根据规则，我们很容易就可以写出邮编的组成 "),e("code",[t._v("[1-9]\\d{5}")]),t._v("。我们可以使用下面的文本进行测试：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("012300  不满足第一位是 1-9\n130400  满足要求\n465441  满足要求\n4654000 长度过长\n138001380002 长度过长\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("我们发现，7 位数的前 6 位也能匹配上，12 位数匹配上了两次，这显然是不符合要求的。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1446),alt:"image-20210106165331934"}})]),t._v(" "),e("p",[t._v("正则是通过环视来解决这个问题的。解决这个问题的正则有四种。我给你总结了一个表。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("正则")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("名称")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("含义")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("示例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("(?<=Y)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("肯定逆序环境"),e("br"),t._v("postive-lookahead")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("左边是 Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("(?<=\\d)th")]),t._v("  左边是数字的 th，能匹配 "),e("code",[t._v("9th")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("(?<!Y)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否定逆序环境"),e("br"),t._v("negative-lookahead")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("左边不是 Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("(?<!\\d)th")]),t._v("  左边不是数字的 th，能匹配 "),e("code",[t._v("health")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("(?=Y)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("肯定顺序环境"),e("br"),t._v("postive-lookbehind")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("右边是 Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("six(?=\\d)")]),t._v("  右边是数字的 six，能匹配 "),e("code",[t._v("six6")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("(?!Y)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("否定顺序环境"),e("br"),t._v("negative-lookbehind")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("右边不是 Y")]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("hi(?!\\d)")]),t._v("  右边是不是数字的 hi，能匹配 "),e("code",[t._v("high")])])])])]),t._v(" "),e("p",[t._v("注意上表的示例，能匹配，不表示能匹配这个字符串，是表示这个字符串中的 th 能被匹配，如下图所示")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1447),alt:"image-20210106170331641"}})]),t._v(" "),e("p",[t._v("你可能觉得名称比较难记住，没关系，我给你一个小口诀，你只要记住了它的功能和写法就行。这个小口诀你可以在心里默念几遍："),e("strong",[t._v("左尖括号代表看左边，没有尖括号是看右边，感叹号是非的意思。")])]),t._v(" "),e("p",[t._v("因此，针对刚刚邮编的问题，就可以写成左边不是数字，右边也不是数字的 6 位数的正则。即 "),e("code",[t._v("(?<!\\d)[1-9]\\d{5}(?!\\d)")]),t._v("。这样就能够符合要求了。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1448),alt:"image-20210106170945960"}})]),t._v(" "),e("p",[t._v("注意：这里的 "),e("strong",[t._v("不是")]),t._v(" 是可以用来匹配的文字的，比如:")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("veiuk@email.com.cn;\n\n提取出上面的邮箱，但是不需要 ; 号。\n假设这里不要求是一个非常完善的邮箱正则，我们使用：\\S+@\\S+\\.\\S+ 来匹配：[任意非空白字符 1 个或多个]@[任意非空白字符 1 个或多个].[任意非空白字符 1 个或多个] 的简单格式\n但是你会发现 \\S+@\\S+\\.\\S+ 匹配到了这一整行  veiuk@email.com.cn;\n这个时候就可以使用右边是 Y 的环视来处理：\\S+@\\S+\\.\\S+(?=;)\n\\S+@\\S+\\.\\S+(?=;) 只会匹配文本：veiuk@email.com.cn\n要明白环视只指匹配结构，不匹配文本，所以他的右边是一个 ; 这个是满足的，但是 ; 是环视，所以不是最后匹配的文本结果\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("h3",{attrs:{id:"单词边界用环视表示"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单词边界用环视表示"}},[t._v("#")]),t._v(" 单词边界用环视表示")]),t._v(" "),e("p",[t._v("学习到这里，你可以思考一下，表示单词边界的 "),e("code",[t._v("\\b")]),t._v(" 如果用环视的方式来写，应该是怎么写呢？")]),t._v(" "),e("p",[t._v("这个问题其实比较简单，单词可以用 "),e("code",[t._v("\\w+")]),t._v(" 来表示，单词的边界其实就是那些 不能组成单词的字符，即左边和右边都不能是组成单词的字符。比如下面这句话：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("the little cat is in the hat\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("the 左侧是行首，右侧是空格，hat 右侧是行尾，左侧是空格，其它单词左右都是空格。所有单词左右都不是 "),e("code",[t._v("\\w")]),t._v("。")]),t._v(" "),e("p",[e("code",[t._v("(?<!\\w)")]),t._v("  表示左边不能是单词组成字符，"),e("code",[t._v("(?!\\w)")]),t._v("  右边不能是单词组成字符，即  "),e("code",[t._v("\\b\\w+\\b")]),t._v("  也可以写成 "),e("code",[t._v("(?<!\\w)\\w+(?!\\w)")]),t._v("。")]),t._v(" "),e("p",[t._v("另外，根据前面学到的知识，"),e("code",[t._v("非 \\w")]),t._v("  也可以用 "),e("code",[t._v("\\W")]),t._v(" 来表示。那单词的正则可以写成  "),e("code",[t._v("(?<=\\W)\\w+(?=\\W)")]),t._v("。即使用了环视的肯定环境")]),t._v(" "),e("p",[t._v("这个例子是为了让你有更多的思考，并不推荐在日常工作中这么来表示单词的边界，因为 "),e("code",[t._v("\\b")]),t._v(" 明显更简洁，也更容易阅读和书写。")]),t._v(" "),e("h3",{attrs:{id:"环视与子组"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环视与子组"}},[t._v("#")]),t._v(" 环视与子组")]),t._v(" "),e("p",[t._v("友情提醒一下，前面我们在第三讲中讲过「"),e("RouterLink",{attrs:{to:"/regular/02/03.html"}},[t._v("分组与引用")]),t._v("」相关的内容，如果忘记了可以回去复习复习。"),e("strong",[t._v("环视中虽然也有括号，但不会保存成子组")]),t._v("。保存成子组的一般是匹配到的文本内容，后续用于替换等操作，而环视是表示对文本左右环境的要求，即环视只匹配位置，不匹配文本内容。你也可以总结一下，圆括号在正则中都有哪些用途，不断地去复习学过的内容，巩固自己的记忆。")],1),t._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),e("p",[t._v("今天我们学习了正则中断言相关的内容，最常见的断言有三种：单词的边界、行的开始或结束、环视。")]),t._v(" "),e("p",[t._v("单词的边界是使用 "),e("code",[t._v("\\b")]),t._v(" 来表示，这个比较简单。而多行模式下，每一行的开始和结束是使用  "),e("code",[t._v("^")]),t._v(" 和 "),e("code",[t._v("$")]),t._v(" 符号。如果想匹配整个字符串的开始或结束，可以使用 "),e("code",[t._v("\\A")]),t._v(" 和 "),e("code",[t._v("\\z")]),t._v("，它们不受匹配模式的影响。")]),t._v(" "),e("p",[t._v("最后就是环视，它又分为四种情况：肯定逆向环视、否定逆向环视、肯定顺序环视、否定顺序环视。在使用的时候记住一个方法："),e("strong",[t._v("有左尖括号代表看左边，没有尖括号是看右边，而感叹号是非的意思。")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(1449),alt:"image-20210106172153985"}})]),t._v(" "),e("h2",{attrs:{id:"课后思考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#课后思考"}},[t._v("#")]),t._v(" 课后思考")]),t._v(" "),e("p",[t._v("最后，我们来做一个小练习吧。前面我们用正则分组引用来实现替换重复出现的单词，其实之前写的正则是不严谨的，在一些场景下，其实是不能正常工作的，你能使用今天学到的知识来完善一下它么？")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("the little cat cat2 is in the hat hat2, we like it.\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("需要注意一下，"),e("strong",[t._v("文本中 cat 和 cat2，还有 hat 和 hat2 其实是不同的单词")]),t._v("。你应该能想到在 "),e("code",[t._v("\\w+")]),t._v(" 左右加上单词边界 "),e("code",[t._v("\\b")]),t._v(" 来解决这个问题。你可以试一下，真的能像期望的那样工作么？也就是说，在分组引用时，前面的断言还有效么？")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1450),alt:"image-20210106172547775"}})]),t._v(" "),e("p",[t._v("答案为："),e("code",[t._v("(\\w+) \\b\\1\\b")])]),t._v(" "),e("p",[e("img",{attrs:{src:a(1451),alt:"image-20210106173054146"}})]),t._v(" "),e("p",[t._v("测试文本为：")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("the little cat cat is in the hat hat, we like it.\nthe little cat cat2 is in the hat hat2, we like it.\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("下面是其他的写法：")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("(\\w+) \\b\\1\\b")]),t._v(" 这个只能处理测试文本中出现了 2 次的单词，可以看到边界可以拼接到引用前后9")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("(\\w+)\\s+(\\b\\1\\b\\s*)+")]),t._v("  可以做到无论重复多少次的单词，都可以只保留一个单词，还兼容了单词间可能有多个空格的情况、也兼容换行时的重复")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("(\\b\\w+\\b) \\1")]),t._v("：分组里面使用单词边界后，引用时会失效")]),t._v(" "),e("p",[e("img",{attrs:{src:a(1452),alt:"image-20210106182123054"}})])])]),t._v(" "),e("p",[t._v("此题主要用意是：告诉你 "),e("strong",[t._v("引用")]),t._v(" 时，如果引用的是一个带有断言的匹配，那么这个断言在引用中不会生效，只是把匹配的值带过去了")])])}),[],!1,null,null,null);s.default=n.exports}}]);