{"version":3,"sources":["webpack:///./docs/elasticsearch-core/search-engine/37-query-string-search-and-mall-metadata.md","webpack:///./docs/elasticsearch-core/search-engine/37-query-string-search-and-mall-metadata.md?2910","webpack:///./docs/elasticsearch-core/search-engine/37-query-string-search-and-mall-metadata.md?a614"],"names":[],"mappings":"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","file":"assets/js/392.d47efb73.js","sourcesContent":["import { render, staticRenderFns } from \"./37-query-string-search-and-mall-metadata.md?vue&type=template&id=c183d288&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"2e9acca5-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./37-query-string-search-and-mall-metadata.md?vue&type=template&id=c183d288&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"query-string-search-语法以及-all-metadata\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#query-string-search-语法以及-all-metadata\"}},[_vm._v(\"#\")]),_vm._v(\" query string search 语法以及 \"),_c('code',[_vm._v(\"_all metadata\")])]),_vm._v(\" \"),_c('p'),_c('div',{staticClass:\"table-of-contents\"},[_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#all-metadata-的原理和作用\"}},[_vm._v(\"_all metadata 的原理和作用\")])])])]),_c('p'),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"query string 基础语法\")]),_vm._v(\" \"),_c('li',[_c('code',[_vm._v(\"_all\")]),_vm._v(\" metadata 的原理和作用\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"包含 test_field 字段中包含 test 内容\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-json line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_vm._v(\"\\nGET /test_index/test_type/_search?q=test_field\"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\"test\\n\\n----------- 响应\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"hits\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"total\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"1\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"max_score\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"0.8835016\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"hits\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"[\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"_index\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"test_index\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"_type\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"test_type\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"_id\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"7\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"_score\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"0.8835016\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"_source\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"test_field\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"test test\\\"\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"]\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"12\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"13\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"14\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"15\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"16\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"17\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"18\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"19\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"20\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"21\")]),_c('br')])]),_c('div',{staticClass:\"language-json line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_vm._v(\"必须包含，与包含类似\\nGET /test_index/test_type/_search?q=+test_field\"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\"test\\n\\n不包含 test 内容\\nGET /test_index/test_type/_search?q=-test_field\"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\"test\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br')])]),_c('p',[_vm._v(\"一个是掌握 q=field:search content 的语法，还有一个是掌握 + 和 - 的含义\")]),_vm._v(\" \"),_c('div',{staticClass:\"custom-block tip\"},[_c('p',{staticClass:\"custom-block-title\"},[_vm._v(\"TIP\")]),_vm._v(\" \"),_c('p',[_vm._v(\"这个知道就行了，一般很少使用\")])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"all-metadata-的原理和作用\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#all-metadata-的原理和作用\"}},[_vm._v(\"#\")]),_vm._v(\" \"),_c('code',[_vm._v(\"_all\")]),_vm._v(\" metadata 的原理和作用\")]),_vm._v(\" \"),_c('p',[_c('strong',[_vm._v(\"什么是 \"),_c('code',[_vm._v(\"_all\")]),_vm._v(\" metadata ？\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"下面的搜索，没有指定具体的字段，也能返回数据，那么他返回的是什么呢？\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-json line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_vm._v(\"GET /test_index/test_type/_search?q=test\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])]),_c('p',[_vm._v(\"返回的数据是所有字段中包含 test 内容的数据。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"我们在进行中搜索的时候，难道是对 document 中的每一个 field 都进行一次搜索吗？不是的\")]),_vm._v(\" \"),_c('p',[_vm._v(\"es中的 \"),_c('code',[_vm._v(\"_all\")]),_vm._v(\" 元数据，在建立索引的时候，我们插入一条 document，它里面包含了多个 field，\\n此时，es 会自动将多个 field 的值，全部用字符串的方式串联起来，变成一个长的字符串，作为 \"),_c('code',[_vm._v(\"_all field\")]),_vm._v(\" 的值，同时建立索引\")]),_vm._v(\" \"),_c('p',[_vm._v(\"后面如果在搜索的时候，没有对某个\"),_c('code',[_vm._v(\"field\")]),_vm._v(\"指定搜索，就默认搜索 \"),_c('code',[_vm._v(\"_all field\")]),_vm._v(\"，其中是包含了所有 \"),_c('code',[_vm._v(\"field\")]),_vm._v(\" 的值的\")]),_vm._v(\" \"),_c('p',[_vm._v(\"举个例子\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-json line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"name\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"jack\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"age\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"26\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"email\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"jack@sina.com\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"address\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"guamgzhou\\\"\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br')])]),_c('p',[_vm._v(\"\\\"jack 26 jack@sina.com guangzhou\\\"，作为这一条 document 的 \"),_c('code',[_vm._v(\"_all\")]),_vm._v(\" field 的值，同时进行分词后建立对应的倒排索引\")]),_vm._v(\" \"),_c('p',[_vm._v(\"生产环境不使用\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}