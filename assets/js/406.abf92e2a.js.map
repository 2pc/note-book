{"version":3,"sources":["webpack:///./docs/elasticsearch-core/search-engine/56-doc-value.md","webpack:///./docs/elasticsearch-core/search-engine/56-doc-value.md?c02a","webpack:///./docs/elasticsearch-core/search-engine/56-doc-value.md?b0f4"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAA0F;AAC1F;;;AAGA;AAC6F;AAC7F,gBAAgB,2GAAU;AAC1B;AACA,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,gF;;;;;;;;;;;;ACjBf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA,0BAA0B,aAAa,0BAA0B,wBAAwB,qCAAqC,OAAO,gCAAgC,WAAW,OAAO,+BAA+B,UAAU,mCAAmC,kCAAkC,kFAAkF,gCAAgC,4BAA4B,OAAO,kBAAkB,wCAAwC,OAAO,gBAAgB,iaAAia,OAAO,eAAe,UAAU,mCAAmC,kBAAkB,45CAA45C,OAAO,aAAa,UAAU,mCAAmC,gBAAgB,8NAA8N,8CAA8C,YAAY,gBAAgB,yBAAyB,uCAAuC,gBAAgB,0BAA0B,uCAAuC,gBAAgB,6BAA6B,WAAW,4BAA4B,gBAAgB,0BAA0B,kCAAkC,gBAAgB,0BAA0B,uCAAuC,gBAAgB,wBAAwB,kCAAkC,gBAAgB,6BAA6B,uCAAuC,gBAAgB,0BAA0B,iCAAiC,gBAAgB,0BAA0B,uCAAuC,gBAAgB,wBAAwB,wCAAwC,gBAAgB,6BAA6B,WAAW,iCAAiC,gBAAgB,0BAA0B,uCAAuC,gBAAgB,6BAA6B,WAAW,4BAA4B,gBAAgB,0BAA0B,kCAAkC,gBAAgB,0BAA0B,uCAAuC,gBAAgB,wBAAwB,iCAAiC,gBAAgB,6BAA6B,uCAAuC,gBAAgB,0BAA0B,iCAAiC,gBAAgB,0BAA0B,uCAAuC,gBAAgB,wBAAwB,wCAAwC,gBAAgB,6BAA6B,WAAW,4CAA4C,mCAAmC,aAAa,0BAA0B,oCAAoC,0BAA0B,scAAsc,+BAA+B,UAAU,iCAAiC;AAClkK","file":"assets/js/406.abf92e2a.js","sourcesContent":["import { render, staticRenderFns } from \"./56-doc-value.md?vue&type=template&id=89dfd5be&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"2e9acca5-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./56-doc-value.md?vue&type=template&id=89dfd5be&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"内核级知识点之-doc-value-初步探秘\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#内核级知识点之-doc-value-初步探秘\"}},[_vm._v(\"#\")]),_vm._v(\" 内核级知识点之 doc value 初步探秘\")]),_vm._v(\" \"),_c('p'),_c('div',{staticClass:\"table-of-contents\"},[_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"#倒排索引回顾\"}},[_vm._v(\"倒排索引回顾\")])]),_c('li',[_c('a',{attrs:{\"href\":\"#正排索引\"}},[_vm._v(\"正排索引\")])])])]),_c('p'),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"倒排索引： 搜索的时候使用\")]),_vm._v(\" \"),_c('li',[_vm._v(\"正排索引：排序的时候使用，看到每个 document 的每个 field，然后进行排序，所谓的正排索引，其实就是doc values\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"在建立索引的时候，一方面会建立倒排索引，以供搜索用；一方面会建立正排索引，也就是 doc values，以供排序，聚合，过滤等操作使用\")]),_vm._v(\" \"),_c('p',[_vm._v(\"doc values 是被保存在磁盘上的，此时如果内存足够，os 会自动将其缓存在内存中，性能还是会很高；如果内存不足够，os 会将其写入磁盘上\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"倒排索引回顾\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#倒排索引回顾\"}},[_vm._v(\"#\")]),_vm._v(\" 倒排索引回顾\")]),_vm._v(\" \"),_c('p',[_vm._v(\"比如：\")]),_vm._v(\" \"),_c('p',[_vm._v(\"doc1: hello world you and me\\ndoc2: hi, world, how are you\")]),_vm._v(\" \"),_c('p',[_vm._v(\"倒排索引可能如下：\")]),_vm._v(\" \"),_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"word\")]),_vm._v(\" \"),_c('th',[_vm._v(\"doc1\")]),_vm._v(\" \"),_c('th',[_vm._v(\"doc2\")])])]),_vm._v(\" \"),_c('tbody',[_c('tr',[_c('td',[_vm._v(\"hello\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")]),_vm._v(\" \"),_c('td')]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"world\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"you\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"and\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")]),_vm._v(\" \"),_c('td')]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"me\")]),_vm._v(\" \"),_c('td',[_vm._v(\"*\")]),_vm._v(\" \"),_c('td')]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"hi\")]),_vm._v(\" \"),_c('td'),_vm._v(\" \"),_c('td',[_vm._v(\"*\")])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"how\")]),_vm._v(\" \"),_c('td'),_vm._v(\" \"),_c('td',[_vm._v(\"*\")])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"are\")]),_vm._v(\" \"),_c('td'),_vm._v(\" \"),_c('td',[_vm._v(\"*\")])])])]),_vm._v(\" \"),_c('p',[_vm._v(\"query string：hello you --> hello, you\")]),_vm._v(\" \"),_c('p',[_vm._v(\"hello --> doc1\\nyou --> doc1,doc2\")]),_vm._v(\" \"),_c('p',[_vm._v(\"在倒排索引中就匹配到了。\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"正排索引\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#正排索引\"}},[_vm._v(\"#\")]),_vm._v(\" 正排索引\")]),_vm._v(\" \"),_c('p',[_vm._v(\"doc1: hello world you and me\")]),_vm._v(\" \"),_c('p',[_vm._v(\"doc2: hi, world, how are you\")]),_vm._v(\" \"),_c('p',[_vm._v(\"sort by age\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-json line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-json\"}},[_c('code',[_vm._v(\"doc1\"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"name\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"jack\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"age\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"27\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\ndoc2\"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"name\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"tom\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token property\"}},[_vm._v(\"\\\"age\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"30\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br')])]),_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"document\")]),_vm._v(\" \"),_c('th',[_vm._v(\"name\")]),_vm._v(\" \"),_c('th',[_vm._v(\"age\")])])]),_vm._v(\" \"),_c('tbody',[_c('tr',[_c('td',[_vm._v(\"doc1\")]),_vm._v(\" \"),_c('td',[_vm._v(\"jack\")]),_vm._v(\" \"),_c('td',[_vm._v(\"27\")])]),_vm._v(\" \"),_c('tr',[_c('td',[_vm._v(\"doc2\")]),_vm._v(\" \"),_c('td',[_vm._v(\"tom\")]),_vm._v(\" \"),_c('td',[_vm._v(\"30\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"custom-block tip\"},[_c('p',{staticClass:\"custom-block-title\"},[_vm._v(\"疑问\")]),_vm._v(\" \"),_c('p',[_vm._v(\"还是没有明白，怎么用来排序的，对于正排索引来说，搜索到所有的文档之后，再按照文档中的字段排序不行么？\")]),_vm._v(\" \"),_c('p',[_vm._v(\"那么正排索引和平时 mysql 中的类似，直接获取 document 然后按照字段排序。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"这两个貌似是一样的？\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}