(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[539],{

/***/ "./docs/git-scm/10/04.md":
/*!*******************************!*\
  !*** ./docs/git-scm/10/04.md ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _04_md_vue_type_template_id_4749c6ac___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./04.md?vue&type=template&id=4749c6ac& */ "./docs/git-scm/10/04.md?vue&type=template&id=4749c6ac&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");

var script = {}


/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(
  script,
  _04_md_vue_type_template_id_4749c6ac___WEBPACK_IMPORTED_MODULE_0__["render"],
  _04_md_vue_type_template_id_4749c6ac___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./docs/git-scm/10/04.md?vue&type=template&id=4749c6ac&":
/*!**************************************************************!*\
  !*** ./docs/git-scm/10/04.md?vue&type=template&id=4749c6ac& ***!
  \**************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_04_md_vue_type_template_id_4749c6ac___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"2e9acca5-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib??ref--1-1!../../../node_modules/@vuepress/markdown-loader??ref--1-2!./04.md?vue&type=template&id=4749c6ac& */ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"2e9acca5-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./docs/git-scm/10/04.md?vue&type=template&id=4749c6ac&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_04_md_vue_type_template_id_4749c6ac___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_04_md_vue_type_template_id_4749c6ac___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"2e9acca5-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./docs/git-scm/10/04.md?vue&type=template&id=4749c6ac&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"2e9acca5-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??ref--1-1!./node_modules/@vuepress/markdown-loader??ref--1-2!./docs/git-scm/10/04.md?vue&type=template&id=4749c6ac& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{"slot-key":_vm.$parent.slotKey}},[_c('h1',{attrs:{"id":"包文件"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#包文件"}},[_vm._v("#")]),_vm._v(" 包文件")]),_vm._v(" "),_c('p',[_vm._v("让我们重新回到示例 Git 版本库的对象数据库。 目前为止，可以看到有 11 个对象——4 个数据对象、3 个树对象、3 个提交对象和 1 个标签对象：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("find")]),_vm._v(" .git/objects -type f\n.git/objects/01/55eb4229851634a0f03eb265b69f5a2d56f341 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# tree 2")]),_vm._v("\n.git/objects/1a/410efbd13591db07496601ebc7a059dd55cfe9 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# commit 3")]),_vm._v("\n.git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# test.txt v2")]),_vm._v("\n.git/objects/3c/4e9cd789d88d8d89c1073707c3585e41b0e614 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# tree 3")]),_vm._v("\n.git/objects/83/baae61804e65cc73a7201a7252750c76066a30 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# test.txt v1")]),_vm._v("\n.git/objects/95/85191f37f7b0fb9444f35a9bf50de191beadc2 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# tag")]),_vm._v("\n.git/objects/ca/c0cab538b970a37ea1e769cbbde608743bc96d "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# commit 2")]),_vm._v("\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# 'test content'")]),_vm._v("\n.git/objects/d8/329fc1cc938780ffdd9f94e0d364e0ea74f579 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# tree 1")]),_vm._v("\n.git/objects/fa/49b077972391ad58037050f2a75f74e3671e92 "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# new.txt")]),_vm._v("\n.git/objects/fd/f4fc3344e67ab068f836878b6c4951e3b15f3d "),_c('span',{pre:true,attrs:{"class":"token comment"}},[_vm._v("# commit 1")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("9")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("10")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("11")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("12")]),_c('br')])]),_c('p',[_vm._v("Git 使用 zlib 压缩这些文件的内容，而且我们并没有存储太多东西，所以上文中的文件一共只占用了 925 字节。 接下来，我们会指引你添加一些大文件到版本库中，以此展示 Git 的一个很有趣的功能。 为了便于展示，我们要把之前在 Grit 库中用到过的 repo.rb 文件添加进来——这是一个大小约为 22K 的源代码文件：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("curl")]),_vm._v(" https://raw.githubusercontent.com/mojombo/grit/master/lib/grit/repo.rb "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(">")]),_vm._v(" repo.rb\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("add")]),_vm._v(" repo.rb\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" commit -m "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'added repo.rb'")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("[")]),_vm._v("master 484a592"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("]")]),_vm._v(" added repo.rb\n "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("3")]),_vm._v(" files changed, "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("709")]),_vm._v(" insertions"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("+"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("2")]),_vm._v(" deletions"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("-"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v("\n delete mode "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" bak/test.txt\n create mode "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" repo.rb\n rewrite test.txt "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100")]),_vm._v("%"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br')])]),_c('p',[_vm._v("如果你查看生成的树对象，可以看到 repo.rb 文件对应的数据对象的 SHA-1 值：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" cat-file -p master^"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("{")]),_vm._v("tree"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("}")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" blob fa49b077972391ad58037050f2a75f74e3671e92      new.txt\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" blob 033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5      repo.rb\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" blob e3f094f522629ae358806b17daf78246c27c007b      test.txt\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('p',[_vm._v("接下来你可以使用 git cat-file 命令查看这个对象有多大：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" cat-file -s 033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("22044")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br')])]),_c('p',[_vm._v("现在，稍微修改这个文件，然后看看会发生什么：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token builtin class-name"}},[_vm._v("echo")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'# testing'")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(">>")]),_vm._v(" repo.rb\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" commit -am "),_c('span',{pre:true,attrs:{"class":"token string"}},[_vm._v("'modified repo a bit'")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("[")]),_vm._v("master 2431da6"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("]")]),_vm._v(" modified repo.rb a bit\n "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("file")]),_vm._v(" changed, "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1")]),_vm._v(" insertion"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("+"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('p',[_vm._v("查看这个提交生成的树对象，你会看到一些有趣的东西：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" cat-file -p master^"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("{")]),_vm._v("tree"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("}")]),_vm._v("\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" blob fa49b077972391ad58037050f2a75f74e3671e92      new.txt\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" blob b042a60ef7dff760008df33cee372b945b6e884e      repo.rb\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100644")]),_vm._v(" blob e3f094f522629ae358806b17daf78246c27c007b      test.txt\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('p',[_vm._v("repo.rb 对应一个与之前完全不同的数据对象，这意味着，虽然你只是在一个 400 行的文件后面加入一行新内容，Git 也 "),_c('strong',[_vm._v("会用一个全新的对象来存储新的文件内容")]),_vm._v("：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" cat-file -s b042a60ef7dff760008df33cee372b945b6e884e\n"),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("22054")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br')])]),_c('p',[_c('strong',[_vm._v("你的磁盘上现在有两个几乎完全相同、大小均为 22K 的对象")]),_vm._v("。 如果 Git 只完整保存其中一个，再保存另一个对象与之前版本的差异内容，岂不更好？")]),_vm._v(" "),_c('p',[_vm._v("事实上 Git 可以那样做。 Git 最初向磁盘中存储对象时所使用的格式被称为 "),_c('strong',[_vm._v("松散（loose）")]),_vm._v(" 对象格式。 但是，Git 会时不时地将多个这些对象打包成一个称为  "),_c('strong',[_vm._v("包文件（packfile）")]),_vm._v(" 的二进制文件，"),_c('strong',[_vm._v("以节省空间和提高效率")]),_vm._v("。 当版本库中有太多的松散对象，或者你手动执行  "),_c('code',[_vm._v("git gc")]),_vm._v("  命令，或者你向远程服务器执行推送时，Git 都会这样做。 要看到打包过程，你可以手动执行  "),_c('code',[_vm._v("git gc")]),_vm._v("  命令让 Git 对对象进行打包：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" gc\nCounting objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("18")]),_vm._v(", done.\nDelta compression using up to "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("8")]),_vm._v(" threads.\nCompressing objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100")]),_vm._v("% "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("14")]),_vm._v("/14"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", done.\nWriting objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100")]),_vm._v("% "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("18")]),_vm._v("/18"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", done.\nTotal "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("18")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("delta "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("3")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", reused "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("0")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("delta "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("0")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v("\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br')])]),_c('p',[_vm._v("这个时候再查看 objects 目录，你会发现大部分的对象都不见了，与此同时出现了一对新文件：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("find")]),_vm._v(" .git/objects -type f\n.git/objects/bd/9dbf5aae1a3862dd1526723246b20206e5fc37\n.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4\n.git/objects/info/packs\n.git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.idx\n.git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.pack\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br')])]),_c('p',[_vm._v("仍保留着的几个对象是未被任何提交记录引用的数据对象——在此例中是你之前创建的  "),_c('strong',[_vm._v("what is up, doc?")]),_vm._v(" 和  "),_c('strong',[_vm._v("test content")]),_vm._v(" 这两个示例数据对象。 因为你从没将它们添加至任何提交记录中，所以 **Git 认为它们是悬空（dangling）**的，不会将它们打包进新生成的包文件中。")]),_vm._v(" "),_c('p',[_c('strong',[_vm._v("剩下的文件是新创建的包文件和一个索引")]),_vm._v("。 "),_c('strong',[_vm._v("包文件包含了刚才从文件系统中移除的所有对象的内容")]),_vm._v("。 "),_c('strong',[_vm._v("索引文件包含了包文件的偏移信息，我们通过索引文件就可以快速定位任意一个指定对象")]),_vm._v("。 有意思的是运行 gc 命令前磁盘上的对象大小约为 22K，而这个新生成的包文件大小仅有 7K。 通过打包对象减少了 ⅔ 的磁盘占用空间。")]),_vm._v(" "),_c('p',[_c('strong',[_vm._v("Git 是如何做到这点的？")]),_vm._v(" Git 打包对象时，会查找命名及大小相近的文件，并只保存文件不同版本之间的差异内容。 你可以查看包文件，观察它是如何节省空间的。 "),_c('code',[_vm._v("git verify-pack")]),_vm._v("  这个底层命令可以让你查看已打包的内容：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" verify-pack -v .git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.idx\n2431da676938450a4d72e260db3bf7b0f587bbc1 commit "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("223")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("155")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("12")]),_vm._v("\n69bcdaff5328278ab1c0812ce0e07fa7d26a96d7 commit "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("214")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("152")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("167")]),_vm._v("\n80d02664cb23ed55b226516648c7ad5d0a3deb90 commit "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("214")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("145")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("319")]),_vm._v("\n43168a18b7613d1281e5560855a83eb8fde3d687 commit "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("213")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("146")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("464")]),_vm._v("\n092917823486a802e94d727c820a9024e14a1fc2 commit "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("214")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("146")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("610")]),_vm._v("\n702470739ce72005e2edff522fde85d52a65df9b commit "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("165")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("118")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("756")]),_vm._v("\nd368d0ac0678cbe6cce505be58126d3526706e54 tag    "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("130")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("122")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("874")]),_vm._v("\nfe879577cb8cffcdf25441725141e310dd7d239b tree   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("136")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("136")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("996")]),_vm._v("\nd8329fc1cc938780ffdd9f94e0d364e0ea74f579 tree   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("36")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("46")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1132")]),_vm._v("\ndeef2e1b793907545e50a2ea2ddb5ba6c58c4506 tree   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("136")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("136")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1178")]),_vm._v("\nd982c7cb2c2a972ee391a85da481fc1f9127a01d tree   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("6")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("17")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1314")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("\\")]),_vm._v("\n  deef2e1b793907545e50a2ea2ddb5ba6c58c4506\n3c4e9cd789d88d8d89c1073707c3585e41b0e614 tree   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("8")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("19")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1331")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("\\")]),_vm._v("\n  deef2e1b793907545e50a2ea2ddb5ba6c58c4506\n0155eb4229851634a0f03eb265b69f5a2d56f341 tree   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("71")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("76")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1350")]),_vm._v("\n83baae61804e65cc73a7201a7252750c76066a30 blob   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("10")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("19")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1426")]),_vm._v("\nfa49b077972391ad58037050f2a75f74e3671e92 blob   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("9")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("18")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1445")]),_vm._v("\nb042a60ef7dff760008df33cee372b945b6e884e blob   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("22054")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("5799")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1463")]),_vm._v("\n033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5 blob   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("9")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("20")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("7262")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("\\")]),_vm._v("\n  b042a60ef7dff760008df33cee372b945b6e884e\n1f7a7a472abf3dd9643fd615f6da379c4acb3e3a blob   "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("10")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("19")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("7282")]),_vm._v("\nnon delta: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("15")]),_vm._v(" objects\nchain length "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("=")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1")]),_vm._v(": "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("3")]),_vm._v(" objects\n.git/objects/pack/pack-978e03944f5c581011e6998cd0e9e30000905586.pack: ok\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("9")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("10")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("11")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("12")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("13")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("14")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("15")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("16")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("17")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("18")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("19")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("20")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("21")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("22")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("23")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("24")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("25")]),_c('br')])]),_c('p',[_vm._v("此处，033b4 这个数据对象（即 repo.rb 文件的第一个版本，如果你还记得的话）引用了数据对象 b042a，即该文件的第二个版本。 命令输出内容的第三列显示的是各个对象在包文件中的大小，可以看到 b042a 占用了 22K 空间，而 033b4 仅占用 9 字节。 同样有趣的地方在于，第二个版本完整保存了文件内容，而原始的版本反而是以差异方式保存的——这是因为大部分情况下需要快速访问文件的最新版本。")]),_vm._v(" "),_c('p',[_vm._v("最妙之处是你可以随时重新打包。 Git 时常会自动对仓库进行重新打包以节省空间。当然你也可以随时手动执行 git gc 命令来这么做。")])])}
var staticRenderFns = []



/***/ })

}]);
//# sourceMappingURL=539.a7f428c1.js.map