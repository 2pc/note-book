(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[55],{

/***/ "./docs/git-scm/07/13.md":
/*!*******************************!*\
  !*** ./docs/git-scm/07/13.md ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _13_md_vue_type_template_id_45383a23___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./13.md?vue&type=template&id=45383a23& */ "./docs/git-scm/07/13.md?vue&type=template&id=45383a23&");
/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");

var script = {}


/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_1__["default"])(
  script,
  _13_md_vue_type_template_id_45383a23___WEBPACK_IMPORTED_MODULE_0__["render"],
  _13_md_vue_type_template_id_45383a23___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./docs/git-scm/07/13.md?vue&type=template&id=45383a23&":
/*!**************************************************************!*\
  !*** ./docs/git-scm/07/13.md?vue&type=template&id=45383a23& ***!
  \**************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_13_md_vue_type_template_id_45383a23___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"2e9acca5-vue-loader-template"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib??ref--1-1!../../../node_modules/@vuepress/markdown-loader??ref--1-2!./13.md?vue&type=template&id=45383a23& */ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"2e9acca5-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./docs/git-scm/07/13.md?vue&type=template&id=45383a23&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_13_md_vue_type_template_id_45383a23___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_cache_loader_dist_cjs_js_cacheDirectory_node_modules_vuepress_core_node_modules_cache_vuepress_cacheIdentifier_2e9acca5_vue_loader_template_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_ref_1_1_node_modules_vuepress_markdown_loader_index_js_ref_1_2_13_md_vue_type_template_id_45383a23___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ "./docs/git-scm/07/assets/2cb4c9e4f5627db7461a79219c50cf73.png":
/*!*********************************************************************!*\
  !*** ./docs/git-scm/07/assets/2cb4c9e4f5627db7461a79219c50cf73.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/2cb4c9e4f5627db7461a79219c50cf73.72598109.png";

/***/ }),

/***/ "./docs/git-scm/07/assets/3b877c617fc8cc04e67d17c23efe4799.png":
/*!*********************************************************************!*\
  !*** ./docs/git-scm/07/assets/3b877c617fc8cc04e67d17c23efe4799.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/3b877c617fc8cc04e67d17c23efe4799.38cb8903.png";

/***/ }),

/***/ "./docs/git-scm/07/assets/81ab8f2c0cc4e50de9f6974977303526.png":
/*!*********************************************************************!*\
  !*** ./docs/git-scm/07/assets/81ab8f2c0cc4e50de9f6974977303526.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/81ab8f2c0cc4e50de9f6974977303526.b3c8a89e.png";

/***/ }),

/***/ "./docs/git-scm/07/assets/8cf4b1c09bca67d076b10b07016e9bac.png":
/*!*********************************************************************!*\
  !*** ./docs/git-scm/07/assets/8cf4b1c09bca67d076b10b07016e9bac.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/8cf4b1c09bca67d076b10b07016e9bac.097b00e0.png";

/***/ }),

/***/ "./docs/git-scm/07/assets/da5df0052ac8057c66ef007de33688f9.png":
/*!*********************************************************************!*\
  !*** ./docs/git-scm/07/assets/da5df0052ac8057c66ef007de33688f9.png ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "assets/img/da5df0052ac8057c66ef007de33688f9.3388e7e9.png";

/***/ }),

/***/ "./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/@vuepress/core/node_modules/.cache/vuepress\",\"cacheIdentifier\":\"2e9acca5-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@vuepress/markdown-loader/index.js?!./docs/git-scm/07/13.md?vue&type=template&id=45383a23&":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/@vuepress/core/node_modules/.cache/vuepress","cacheIdentifier":"2e9acca5-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??ref--1-1!./node_modules/@vuepress/markdown-loader??ref--1-2!./docs/git-scm/07/13.md?vue&type=template&id=45383a23& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{"slot-key":_vm.$parent.slotKey}},[_c('h1',{attrs:{"id":"替换"}},[_c('a',{staticClass:"header-anchor",attrs:{"href":"#替换"}},[_vm._v("#")]),_vm._v(" 替换")]),_vm._v(" "),_c('p',[_c('strong',[_vm._v("Git 对象是不可改变的")]),_vm._v("，但它提供一种有趣的方式来用其他对象假装替换数据库中的 Git 对象。")]),_vm._v(" "),_c('p',[_vm._v("replace 命令可以让你在 Git 中指定一个对象并可以声称 「每次你遇到这个 Git 对象时，假装它是其他的东西」。  "),_c('strong',[_vm._v("在你用一个不同的提交替换历史中的一个提交时，这会非常有用")]),_vm._v("。")]),_vm._v(" "),_c('p',[_vm._v("例如，你有一个大型的代码历史并想把自己的仓库分成一个短的历史和一个更大更长久的历史，短历史供新的开发者使用，后者给喜欢数据挖掘的人使用。 你可以通过用新仓库中最早的提交 replace 老仓库中最新的提交来连接历史，这种方式可以把一条历史移植到其他历史上。 这意味着你不用在新历史中真正替换每一个提交（因为历史来源会影响 SHA 的值），你可以加入他们。")]),_vm._v(" "),_c('p',[_vm._v("让我们来试试吧。 首先获取一个已经存在的仓库，并将其分成两个仓库，一个是最近的仓库，一个是历史版本的仓库，然后我们将看到如何在不更改仓库 SHA 值的情况下通过 replace 命令来合并他们。")]),_vm._v(" "),_c('p',[_vm._v("我们将使用一个拥有 5 个提交的简单仓库：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" log --oneline\nef989d8 fifth commit\nc6e1e95 fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br')])]),_c('p',[_vm._v("我们想将其分成拆分成两条历史。 第一个到第四个提交的作为第一个历史版本。 第四、第五个提交的作为最近的第二个历史版本。")]),_vm._v(" "),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/8cf4b1c09bca67d076b10b07016e9bac.png */ "./docs/git-scm/07/assets/8cf4b1c09bca67d076b10b07016e9bac.png"),"alt":"replace1"}})]),_vm._v(" "),_c('p',[_vm._v("创建历史版本的历史很容易，我们可以只将一个历史中的分支推送到一个新的远程仓库的 master 分支。")]),_vm._v(" "),_c('div',{staticClass:"language-shell line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-shell"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" branch "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("history")]),_vm._v(" c6e1e95\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" log --oneline --decorate\nef989d8 "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("HEAD, master"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(" fifth commit\nc6e1e95 "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("history"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(" fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br')])]),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/81ab8f2c0cc4e50de9f6974977303526.png */ "./docs/git-scm/07/assets/81ab8f2c0cc4e50de9f6974977303526.png"),"alt":"replace2"}})]),_vm._v(" "),_c('p',[_vm._v("现在我们可以 "),_c('strong',[_vm._v("把这个新的 history 分支推送到我们新仓库的 master 分支")]),_vm._v("：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" remote "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("add")]),_vm._v(" project-history https://github.com/schacon/project-history\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" push project-history history:master\nCounting objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("12")]),_vm._v(", done.\nDelta compression using up to "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("2")]),_vm._v(" threads.\nCompressing objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100")]),_vm._v("% "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("4")]),_vm._v("/4"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", done.\nWriting objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100")]),_vm._v("% "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("12")]),_vm._v("/12"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("907")]),_vm._v(" bytes, done.\nTotal "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("12")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("delta "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("0")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", reused "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("0")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("delta "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("0")]),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v("\nUnpacking objects: "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("100")]),_vm._v("% "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("12")]),_vm._v("/12"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(", done.\nTo git@github.com:schacon/project-history.git\n * "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("[")]),_vm._v("new branch"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("]")]),_vm._v("      "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("history")]),_vm._v(" -"),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(">")]),_vm._v(" master\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("9")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("10")]),_c('br')])]),_c('p',[_vm._v("这样一来，我们的历史版本就发布了。 "),_c('strong',[_vm._v("稍难的部分则是删减我们最近的历史来让它变得更小")]),_vm._v("。 我们需要一个重叠以便于用一个相等的提交来替换另一个提交，这样一来，我们将截断到第四、五个提交。")]),_vm._v(" "),_c('div',{staticClass:"language-shell line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-shell"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" log --oneline --decorate\nef989d8 "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("HEAD, master"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(" fifth commit\nc6e1e95 "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("(")]),_vm._v("history"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v(")")]),_vm._v(" fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br')])]),_c('p',[_vm._v("在这种情况下，"),_c('strong',[_vm._v("创建一个能够指导扩展历史的基础提交是很有用的")]),_vm._v("。 这样一来，如果其他的开发者想要修改第一次提交或者其他操作时就知道要做些什么，因此，"),_c('strong',[_vm._v("接下来我们要做的是用命令创建一个最初的提交对象，然后将剩下的提交（第四、第五个提交）变基到它的上面。")])]),_vm._v(" "),_c('p',[_vm._v("为了这么做，"),_c('strong',[_vm._v("我们需要选择一个点去拆分")]),_vm._v("，对于我们而言是第三个提交（SHA 是 9c68fdc）。因此我们的提交将基于此提交树。我们可以使用 "),_c('code',[_vm._v("commit-tree")]),_vm._v("  命令来创建基础提交，这样我们就有了一个树，并返回一个全新的、无父节点的 SHA 提交对象。")]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("$ echo 'get history from blah blah blah' | git commit-tree 9c68fdc^{tree}\n622e88e9cbfbacfb75b5279245b9fb38dfea10cf\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br')])]),_c('div',{staticClass:"custom-block tip"},[_c('p',{staticClass:"custom-block-title"},[_vm._v("TIP")]),_vm._v(" "),_c('p',[_vm._v("commit-tree 命令属于底层指令。有许多指令并非直接使用，而是被 "),_c('strong',[_vm._v("其他的")]),_vm._v(" Git 命令用来做更小一些的工作。有时当我们做一些像这样的奇怪事情时，它们允许我们做一些不适用于日常使用但真正底层的东西。更多关于底层命令的内容请参见 "),_c('a',{attrs:{"href":""}},[_vm._v("底层命令和高层命令")])])]),_vm._v(" "),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/2cb4c9e4f5627db7461a79219c50cf73.png */ "./docs/git-scm/07/assets/2cb4c9e4f5627db7461a79219c50cf73.png"),"alt":"replace3"}})]),_vm._v(" "),_c('p',[_vm._v("现在我们已经有一个基础提交了，我们可以通过 "),_c('code',[_vm._v("git rebase –onto")]),_vm._v(" 命令来将剩余的历史变基到基础提交之上。"),_c('code',[_vm._v("–onto")]),_vm._v("  参数是刚才 "),_c('code',[_vm._v("commit-tree")]),_vm._v(" 命令返回的 SHA 值，变基点会成为第三个提交（我们想留下的第一个提交的父提交，9c68fdc）：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" rebase --onto 622e88 9c68fdc\nFirst, rewinding "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("head")]),_vm._v(" to replay your work on "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("top")]),_vm._v(" of it"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("..")]),_vm._v(".\nApplying: fourth commit\nApplying: fifth commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br')])]),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/da5df0052ac8057c66ef007de33688f9.png */ "./docs/git-scm/07/assets/da5df0052ac8057c66ef007de33688f9.png"),"alt":"replace4"}})]),_vm._v(" "),_c('p',[_vm._v("我们已经用基础提交重写了最近的历史，"),_c('strong',[_vm._v("基础提交包括如何重新组成整个历史的说明")]),_vm._v("。 我们可以将新历史推送到新项目中，当其他人克隆这个仓库时，他们仅能看到最近两次提交以及一个包含上述说明的基础提交。")]),_vm._v(" "),_c('p',[_vm._v("现在我们将以想获得整个历史的人的身份来初次克隆这个项目。 在克隆这个截断后的仓库后为了得到历史数据，需要添加第二个远程的历史版本库并对其做获取操作：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" clone https://github.com/schacon/project\n$ "),_c('span',{pre:true,attrs:{"class":"token builtin class-name"}},[_vm._v("cd")]),_vm._v(" project\n\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" log --oneline master\ne146b5f fifth commit\n81a708d fourth commit\n622e88e get "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("history")]),_vm._v(" from blah blah blah\n\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" remote "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("add")]),_vm._v(" project-history https://github.com/schacon/project-history\n$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" fetch project-history\nFrom https://github.com/schacon/project-history\n * "),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("[")]),_vm._v("new branch"),_c('span',{pre:true,attrs:{"class":"token punctuation"}},[_vm._v("]")]),_vm._v("      master     -"),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(">")]),_vm._v(" project-history/master\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("9")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("10")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("11")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("12")]),_c('br')])]),_c('p',[_vm._v("现在，协作者在 master 分支中拥有他们最近的提交并且在 project-history/master 分支中拥有过去的提交。")]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("$ git log --oneline master\ne146b5f fifth commit\n81a708d fourth commit\n622e88e get history from blah blah blah\n\n$ git log --oneline project-history/master\nc6e1e95 fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("8")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("9")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("10")]),_c('br')])]),_c('p',[_vm._v("为了合并它们，你可以使用 "),_c('code',[_vm._v("git replace")]),_vm._v("  命令加上你想替换的提交信息来进行替换。 这样一来，我们就可以将 master 分支中的第四个提交替换为 "),_c('code',[_vm._v("project-history/master")]),_vm._v(" 分支中的 “第四个” 提交。")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" replace 81a708d c6e1e95\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br')])]),_c('p',[_vm._v("现在，查看 master 分支中的历史信息，显示如下：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" log --oneline master\ne146b5f fifth commit\n81a708d fourth commit\n9c68fdc third commit\n945704c second commit\nc1822cf first commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br')])]),_c('p',[_vm._v("很酷，是不是？不用改变上游的 SHA-1 我们就能用一个提交来替换历史中的所有不同的提交，并且所有的工具（bisect，blame 等）也都奏效。")]),_vm._v(" "),_c('p',[_c('img',{attrs:{"src":__webpack_require__(/*! ./assets/3b877c617fc8cc04e67d17c23efe4799.png */ "./docs/git-scm/07/assets/3b877c617fc8cc04e67d17c23efe4799.png"),"alt":"replace5"}})]),_vm._v(" "),_c('p',[_vm._v("有趣的是，即使是使用了 c6e1e95 提交数据来进行替换，它的 SHA-1 仍显示为 81a708d。 即使你运行了 "),_c('code',[_vm._v("cat-file")]),_vm._v("  命令，它仍会显示你替换的数据：")]),_vm._v(" "),_c('div',{staticClass:"language-bash line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-bash"}},[_c('code',[_vm._v("$ "),_c('span',{pre:true,attrs:{"class":"token function"}},[_vm._v("git")]),_vm._v(" cat-file -p 81a708d\ntree 7bc544cf438903b65ca9104a1e30345eee6c083d\nparent 9c68fdceee073230f19ebb8b5e7fc71b479c0252\nauthor Scott Chacon "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("<")]),_vm._v("schacon@gmail.com"),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(">")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1268712581")]),_vm._v(" -0700\ncommitter Scott Chacon "),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v("<")]),_vm._v("schacon@gmail.com"),_c('span',{pre:true,attrs:{"class":"token operator"}},[_vm._v(">")]),_vm._v(" "),_c('span',{pre:true,attrs:{"class":"token number"}},[_vm._v("1268712581")]),_vm._v(" -0700\n\nfourth commit\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("7")]),_c('br')])]),_c('p',[_vm._v("请记住，81a708d 真正的父提交是 622e882 占位提交，而非呈现的 9c68fdce 提交。")]),_vm._v(" "),_c('p',[_vm._v("另一个有趣的事情是数据将会以以下引用显示：")]),_vm._v(" "),_c('div',{staticClass:"language- line-numbers-mode"},[_c('pre',{pre:true,attrs:{"class":"language-text"}},[_c('code',[_vm._v("$ git for-each-ref\ne146b5f14e79d4935160c0e83fb9ebe526b8da0d commit\trefs/heads/master\nc6e1e95051d41771a649f3145423f8809d1a74d4 commit\trefs/remotes/history/master\ne146b5f14e79d4935160c0e83fb9ebe526b8da0d commit\trefs/remotes/origin/HEAD\ne146b5f14e79d4935160c0e83fb9ebe526b8da0d commit\trefs/remotes/origin/master\nc6e1e95051d41771a649f3145423f8809d1a74d4 commit\trefs/replace/81a708dd0e167a3f691541c7a6463343bc457040\n")])]),_vm._v(" "),_c('div',{staticClass:"line-numbers-wrapper"},[_c('span',{staticClass:"line-number"},[_vm._v("1")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("2")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("3")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("4")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("5")]),_c('br'),_c('span',{staticClass:"line-number"},[_vm._v("6")]),_c('br')])]),_c('p',[_vm._v("这意味着我们可以轻而易举的和其他人分享替换，因为我们可以将替换推送到服务器中并且其他人可以轻松地下载。 也许在历史移植情况下不是很有用（既然每个人都乐意下载最新版本和历史版本，为何还要拆分他们呢？），但在其他情况下仍然很有用。")])])}
var staticRenderFns = []



/***/ })

}]);
//# sourceMappingURL=55.4b1cd98a.js.map