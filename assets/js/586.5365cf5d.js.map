{"version":3,"sources":["webpack:///./docs/posts/spring-combat/README.md","webpack:///./docs/posts/spring-combat/README.md?b799","webpack:///./docs/posts/spring-combat/README.md?72db"],"names":[],"mappings":"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","file":"assets/js/586.5365cf5d.js","sourcesContent":["import { render, staticRenderFns } from \"./README.md?vue&type=template&id=04e4357b&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/@vuepress/core/node_modules/.cache/vuepress\\\",\\\"cacheIdentifier\\\":\\\"2e9acca5-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??ref--1-1!../../../node_modules/@vuepress/markdown-loader/index.js??ref--1-2!./README.md?vue&type=template&id=04e4357b&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentSlotsDistributor',{attrs:{\"slot-key\":_vm.$parent.slotKey}},[_c('h1',{attrs:{\"id\":\"spring-开发中的实战\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#spring-开发中的实战\"}},[_vm._v(\"#\")]),_vm._v(\" spring 开发中的实战\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"bootjar-部署到-k8s-中-启动传参数与配置文件\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#bootjar-部署到-k8s-中-启动传参数与配置文件\"}},[_vm._v(\"#\")]),_vm._v(\" bootJar 部署到 k8s 中，启动传参数与配置文件\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"背景\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#背景\"}},[_vm._v(\"#\")]),_vm._v(\" 背景\")]),_vm._v(\" \"),_c('p',[_vm._v(\"在 boot 中，有一部分参数是只能写在  application.yml 中，写在 \"),_c('code',[_vm._v(\"application-xx.yml\")]),_vm._v(\" 中，由于使用时机问题，有些配置属性就不生效了（比如：spring.profiles.active=prod）\")]),_vm._v(\" \"),_c('p',[_vm._v(\"那么这一类首先想到解决方法是：在启动 jar 包的时候使用如下的形式传参\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"nohup java -jar ${APP_JAR} --spring.profiles.active=${ACTIVE} --server.servlet.session.store-dir=${RESOURCES}/session-store-dir --logging.file.path=${RESOURCES}/logs > /dev/null 2>&1 &\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br')])]),_c('p',[_vm._v(\"可以看到，传参变得很复杂，是个不小的挑战，\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"解决方案\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#解决方案\"}},[_vm._v(\"#\")]),_vm._v(\" 解决方案\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"Spring boot 版本：2.4.1\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"那么我可以基于 \"),_c('a',{attrs:{\"href\":\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"boot 的外部化配置文件\"),_c('OutboundLink')],1),_vm._v(\" 中的 \"),_c('strong',[_vm._v(\"外部应用程序属性\")]),_vm._v(\"，将需要覆盖程序内的配置文件属性放到与 bootJar 同级的 \"),_c('code',[_vm._v(\"config\")]),_vm._v(\" 目录下，如下所示：\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"|- bootJar\\n|- config\\n\\t|- application.yml\\n\\t|- application-prod.yml\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br')])]),_c('p',[_vm._v(\"我们将所有的配置属性都可以写到这个 application.yml 文件中，此时外部文件的属性优先级最高，会覆盖掉程序内部的配置文件属性\")]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"日志变-json-格式输出\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#日志变-json-格式输出\"}},[_vm._v(\"#\")]),_vm._v(\" 日志变 JSON 格式输出\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"背景-2\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#背景-2\"}},[_vm._v(\"#\")]),_vm._v(\" 背景\")]),_vm._v(\" \"),_c('p',[_vm._v(\"放在 k8s 下，控制台输出的日志将被抽走，原来多行日志（特别是堆栈错误信息）会被解析成多行，而不是一行\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"解决方案-2\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#解决方案-2\"}},[_vm._v(\"#\")]),_vm._v(\" 解决方案\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"Spring boot 版本：2.4.1\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"解决思路如下：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"利用 logback 中的 \"),_c('code',[_vm._v(\"appender.encoder\")]),_vm._v(\" 格式化控制台输出格式\")]),_vm._v(\" \"),_c('li',[_vm._v(\"只在生产环境下生效：logback 配置文件只在生产环境下生效，该配置文件放在外部化配置文件目录中，通过外部化配置引用该配置文件\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"具体做法如下：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('p',[_vm._v(\"添加 \"),_c('code',[_vm._v(\"logstash-logback-encoder\")]),_vm._v(\" 依赖，但是我们只使用它的 encoder 处理类\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"// 利用 logstash 打印 json 格式的 日志信息\\nimplementation 'net.logstash.logback:logstash-logback-encoder:6.6'\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br')])])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"logback-spring.xml 配置文件，注意该配置文件只在生产环境下生效\")]),_vm._v(\" \"),_c('p',[_vm._v(\"配置 consoleAppender ，在里面使用 LogstashEncoder 进行格式化日志信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-xml line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-xml\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token prolog\"}},[_vm._v(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"configuration\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"include\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"resource\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"org/springframework/boot/logging/logback/base.xml\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"/>\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"appender\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"name\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"consoleAppender\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"class\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"ch.qos.logback.core.ConsoleAppender\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"encoder\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"class\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"net.logstash.logback.encoder.LogstashEncoder\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"providers\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"timestamp\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"timeZone\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"EST\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"timeZone\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"timestamp\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"pattern\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"pattern\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                        {\\n                        \\\"level\\\": \\\"%level\\\",\\n                        \\\"service\\\": \\\"orders\\\",\\n                        \\\"traceId\\\": \\\"%X{X-B3-TraceId:-}\\\",\\n                        \\\"spanId\\\": \\\"%X{X-B3-SpanId:-}\\\",\\n                        \\\"thread\\\": \\\"%thread\\\",\\n                        \\\"class\\\": \\\"%logger{40}\\\",\\n                        \\\"message\\\": \\\"%message\\\"\\n                        }\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"pattern\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"pattern\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"stackTrace\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"throwableConverter\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"class\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"net.logstash.logback.stacktrace.ShortenedThrowableConverter\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"maxDepthPerThrowable\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"30\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"maxDepthPerThrowable\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"maxLength\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"2048\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"maxLength\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"shortenedClassNameLength\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"20\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"shortenedClassNameLength\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"rootCauseFirst\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"true\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"rootCauseFirst\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"throwableConverter\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"stackTrace\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"providers\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"encoder\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"appender\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"logger\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"name\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"jsonLogger\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"additivity\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"false\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"level\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"DEBUG\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"appender-ref\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"ref\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"consoleAppender\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"/>\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"logger\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"root\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"level\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"debug\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"<\")]),_vm._v(\"appender-ref\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token attr-name\"}},[_vm._v(\"ref\")]),_c('span',{pre:true,attrs:{\"class\":\"token attr-value\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation attr-equals\"}},[_vm._v(\"=\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")]),_vm._v(\"consoleAppender\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"\\\"\")])]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"/>\")])]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"root\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token tag\"}},[_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"</\")]),_vm._v(\"configuration\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\">\")])]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"12\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"13\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"14\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"15\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"16\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"17\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"18\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"19\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"20\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"21\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"22\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"23\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"24\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"25\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"26\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"27\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"28\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"29\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"30\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"31\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"32\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"33\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"34\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"35\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"36\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"37\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"38\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"39\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"40\")]),_c('br')])])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"在外部化配置文件中指向该配置文件\")]),_vm._v(\" \"),_c('p',[_vm._v(\"我一般是和外部化文件放到一起，如下所示\")]),_vm._v(\" \"),_c('div',{staticClass:\"language- line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-text\"}},[_c('code',[_vm._v(\"|- bootJar\\n|- config\\n\\t|- application.yml\\n\\t|- logback-spring.xml\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br')])]),_c('p',[_vm._v(\"application.yml 配置该文件\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-yml line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-yml\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"logging\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"config\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" file\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"/app/config/logback\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"-\")]),_vm._v(\"spring.xml\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"level\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"root\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" info\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br')])]),_c('h2',{attrs:{\"id\":\"升级程序自动执行相关数据库变更\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#升级程序自动执行相关数据库变更\"}},[_vm._v(\"#\")]),_vm._v(\" 升级程序自动执行相关数据库变更\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"背景-3\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#背景-3\"}},[_vm._v(\"#\")]),_vm._v(\" 背景\")]),_vm._v(\" \"),_c('p',[_vm._v(\"对于数据库字段变更，数据库结构首次程序部署时的初始化，我们一般都是如下流程：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"在生产环境下，找一台数据库\")]),_vm._v(\" \"),_c('li',[_vm._v(\"手动创建数据库\")]),_vm._v(\" \"),_c('li',[_vm._v(\"手动执行 SQL 脚本把表和初始数据创建好\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"在下次更新程序时的流程：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"手动同步数据库表结构\")]),_vm._v(\" \"),_c('li',[_vm._v(\"手动同步需要增加或则变更的数据\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"上面多次出现到了 \"),_c('strong',[_vm._v(\"手动\")]),_vm._v(\"，这个过程不难，但是繁琐且容易出错。 为了解决这个我们可以利用自动化来解决。\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"解决方案-3\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#解决方案-3\"}},[_vm._v(\"#\")]),_vm._v(\" 解决方案\")]),_vm._v(\" \"),_c('blockquote',[_c('p',[_vm._v(\"Spring boot 版本：2.4.1\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"Spring-boot 官方有一章是：\"),_c('a',{attrs:{\"href\":\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-use-a-higher-level-database-migration-tool\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"使用更高级别的数据库迁移工具\"),_c('OutboundLink')],1),_vm._v(\"，自动配置中直接支持 \"),_c('a',{attrs:{\"href\":\"https://flywaydb.org/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Flyway\"),_c('OutboundLink')],1),_vm._v(\" and \"),_c('a',{attrs:{\"href\":\"https://www.liquibase.org/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"Liquibase\"),_c('OutboundLink')],1),_vm._v(\".\")]),_vm._v(\" \"),_c('p',[_vm._v(\"这里我们使用 Flyway 来实现，官方也有他的 \"),_c('a',{attrs:{\"href\":\"https://flywaydb.org/documentation/getstarted/how\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"工作原理和流程\"),_c('OutboundLink')],1),_vm._v(\"，还有与 \"),_c('a',{attrs:{\"href\":\"https://flywaydb.org/documentation/usage/plugins/springboot\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"spring boot 集成指引\"),_c('OutboundLink')],1),_vm._v(\"，这里不细说。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"简单说一下：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_vm._v(\"flywa 会以版本号的方式在指定位置检测是否有 sql 脚本文件\")]),_vm._v(\" \"),_c('li',[_vm._v(\"如果检测到有，则会执行该 sql 脚本文件\")]),_vm._v(\" \"),_c('li',[_vm._v(\"执行完成后，会把该次执行的记录存放在 \"),_c('em',[_vm._v(\"flyway_schema_history\")]),_vm._v(\" 表中\")]),_vm._v(\" \"),_c('li',[_vm._v(\"下次程序启动，拿到 sql 脚本文件名中的版本号，与 \"),_c('em',[_vm._v(\"flyway_schema_history\")]),_vm._v(\" 表中的记录进行对比，如果已经执行过则不再执行\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"那么这里就有如下的利用思路：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('p',[_vm._v(\"程序首次运行，初始化表结构和初始数据\")])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"程序升级：执行表结构变更和数据变更脚本\")]),_vm._v(\" \"),_c('p',[_vm._v(\"负载的数据变更，这里暂时不涉及到，官方说 flyway 还支持 java 代码编写迁移。\")])])]),_vm._v(\" \"),_c('p',[_vm._v(\"实际配置如下：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('p',[_vm._v(\"添加 flyway 依赖\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-groovy line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-groovy\"}},[_c('code',[_vm._v(\"    implementation \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'org.flywaydb:flyway-core'\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 没有使用这个，纯粹为了解决启动报错：java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException\")]),_vm._v(\"\\n    implementation \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"'org.liquibase:liquibase-core'\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br')])])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"自动配置参数：在 \"),_c('code',[_vm._v(\"application[-xx].yml\")])]),_vm._v(\" \"),_c('div',{staticClass:\"language-yml line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-yml\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"spring\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"flyway\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 指定迁移脚本位置，这里放到 classpath 下的\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"locations\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" classpath\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"db/migration\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"# 是否关闭这个功能：当表不为空时，是否清理数据库\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"clean-disabled\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token boolean important\"}},[_vm._v(\"true\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"enabled\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token boolean important\"}},[_vm._v(\"true\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"liquibase\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token key atrule\"}},[_vm._v(\"enabled\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token boolean important\"}},[_vm._v(\"false\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br')])])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"在 \"),_c('code',[_vm._v(\"classpath:db/migration\")]),_vm._v(\" 下准备你的数据迁移脚本\")]),_vm._v(\" \"),_c('p',[_vm._v(\"V1__Initial_Setup.sql\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-sql line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-sql\"}},[_c('code',[_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"SET\")]),_vm._v(\" NAMES utf8mb4\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"-- 外键约束是否开启\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"SET\")]),_vm._v(\" FOREIGN_KEY_CHECKS \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"0\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"-- 这里执行你的 sql 脚本\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"CREATE\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"TABLE\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"`\")]),_vm._v(\"compound_task\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"`\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"INSERT\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"INTO\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"SET\")]),_vm._v(\" FOREIGN_KEY_CHECKS \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"1\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br')])])])]),_vm._v(\" \"),_c('p',[_vm._v(\"其他配置属性，请参考官方的说明，这里简单讲解下它的迁移脚本命名方式：\")]),_vm._v(\" \"),_c('p',[_vm._v(\"以 \"),_c('code',[_vm._v(\"V1__Initial_Setup.sql\")]),_vm._v(\" 为例：\")]),_vm._v(\" \"),_c('ol',[_c('li',[_c('p',[_c('code',[_vm._v(\"V1\")]),_vm._v(\"  这个前缀的 \"),_c('code',[_vm._v(\"V\")]),_vm._v(\" 是可以通过配置属性改变的，重要的是里面的数字\")]),_vm._v(\" \"),_c('p',[_vm._v(\"它充当了版本的概念，每个版本只执行一次\")])]),_vm._v(\" \"),_c('li',[_c('p',[_c('code',[_vm._v(\"__\")]),_vm._v(\" 后面的是你的描述，可以随意填写\")])])])])]),_vm._v(\" \"),_c('h2',{attrs:{\"id\":\"spring-mvc-缓存控制-http-缓存\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#spring-mvc-缓存控制-http-缓存\"}},[_vm._v(\"#\")]),_vm._v(\" Spring MVC 缓存控制(HTTP 缓存)\")]),_vm._v(\" \"),_c('p',[_vm._v(\"使用 bootJar 内嵌启动的话，Spring MVC 也提供了一些缓存控制功能，\"),_c('a',{attrs:{\"href\":\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-caching\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"官方比较详细\"),_c('OutboundLink')],1),_vm._v(\"。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"注意：你用 spring boot，但是里面 wen 层，用的是 Spring mvc ，那么就你要去找 Spring MVC 的官方文档，而不是 boot 的文档\")]),_vm._v(\" \"),_c('p',[_vm._v(\"该文档中有：\")]),_vm._v(\" \"),_c('ul',[_c('li',[_vm._v(\"Controllers：对 controller 提供缓存支持\")]),_vm._v(\" \"),_c('li',[_vm._v(\"Static Resources：对静态资源提供缓存支持\")])]),_vm._v(\" \"),_c('p',[_vm._v(\"这里讲解下如何对一个 Controller 提供 HTTP 缓存的支持\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"背景-4\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#背景-4\"}},[_vm._v(\"#\")]),_vm._v(\" 背景\")]),_vm._v(\" \"),_c('p',[_vm._v(\"提供了一个接口：根据 ID 查询一张图片，通过流的形式响应\")]),_vm._v(\" \"),_c('p',[_vm._v(\"一般来说，这种接口无法触发浏览器的 缓存机制，但是通过如下方式可以做到\")]),_vm._v(\" \"),_c('h3',{attrs:{\"id\":\"解决方案-4\"}},[_c('a',{staticClass:\"header-anchor\",attrs:{\"href\":\"#解决方案-4\"}},[_vm._v(\"#\")]),_vm._v(\" 解决方案\")]),_vm._v(\" \"),_c('p',[_vm._v(\"没有缓存的写法\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-java line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-java\"}},[_c('code',[_vm._v(\"    \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"/**\\n     * 图片读取\\n     */\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token annotation punctuation\"}},[_vm._v(\"@GetMapping\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"/img/{tppFaceId}\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"public\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"void\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"img\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token annotation punctuation\"}},[_vm._v(\"@PathVariable\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" tppFaceId\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"HttpServletResponse\")]),_vm._v(\" response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"throws\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"IOException\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"TppFace\")]),_vm._v(\" face \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" faceService\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getById\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"tppFaceId\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"face \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"==\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"null\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"throw\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Exception\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"没有该资源\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" img \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" face\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getImg\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"addDateHeader\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"Expires\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"System\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"currentTimeMillis\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"+\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"1000\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"60\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"60\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"addDateHeader\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"Last-Modified\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"System\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"currentTimeMillis\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"addHeader\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"Cache-Control\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"public\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Path\")]),_vm._v(\" path \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Paths\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"get\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"pathServiceProperties\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getWorkPath\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" img\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" contentType \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Tika\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"detect\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"path\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getFileName\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"toString\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"setContentType\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"contentType\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"try\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"InputStream\")]),_vm._v(\" is \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Files\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"newInputStream\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"path\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"IoUtil\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"copy\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"is\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getOutputStream\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"12\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"13\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"14\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"15\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"16\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"17\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"18\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"19\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"20\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"21\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"22\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"23\")]),_c('br')])]),_c('p',[_vm._v(\"上述写了 缓存头，过期时间之类的，其实并不会生效。\")]),_vm._v(\" \"),_c('p',[_vm._v(\"下面是生效的写法\")]),_vm._v(\" \"),_c('div',{staticClass:\"language-java line-numbers-mode\"},[_c('pre',{pre:true,attrs:{\"class\":\"language-java\"}},[_c('code',[_vm._v(\"    \"),_c('span',{pre:true,attrs:{\"class\":\"token annotation punctuation\"}},[_vm._v(\"@GetMapping\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"/img/{tppFaceId}\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"public\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"void\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"img\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token annotation punctuation\"}},[_vm._v(\"@PathVariable\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" tppFaceId\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\"\\n                    \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"WebRequest\")]),_vm._v(\" request\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"throws\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"IOException\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n\\t\\t\"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 在本场景中，图片生成之后，就永远不会改变，这里的版本号我就写死成 1 了\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" eTag \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"1\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 这里检查该请求携带过来的 eTag 版本号，如果与我们这里的一致，就直接返回\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 返回时: 框架帮我们做了重要的一件事件，更改了响应状态码为 304\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"request\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"checkNotModified\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"eTag\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"return\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"TppFace\")]),_vm._v(\" face \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" faceService\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getById\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"tppFaceId\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"if\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"face \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"==\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"null\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"throw\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Exception\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"没有该资源\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" img \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" face\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getImg\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"addDateHeader\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"Last-Modified\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"System\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"currentTimeMillis\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 利用缓存配置构建设置头  max-age 的时间等信息\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"addHeader\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"HttpHeaders\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"CACHE_CONTROL\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"CacheControl\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"maxAge\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token number\"}},[_vm._v(\"1\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"TimeUnit\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_vm._v(\"DAYS\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getHeaderValue\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token comment\"}},[_vm._v(\"// 该 id 首次响应的时候，添加响应头，版本也写  1\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"addHeader\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"eTag\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token string\"}},[_vm._v(\"\\\"1\\\"\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Path\")]),_vm._v(\" path \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Paths\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"get\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"pathServiceProperties\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getWorkPath\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" img\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"String\")]),_vm._v(\" contentType \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Tika\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"detect\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"path\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getFileName\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"toString\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"setContentType\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"contentType\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"try\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"\\n                \"),_c('span',{pre:true,attrs:{\"class\":\"token keyword\"}},[_vm._v(\"final\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"InputStream\")]),_vm._v(\" is \"),_c('span',{pre:true,attrs:{\"class\":\"token operator\"}},[_vm._v(\"=\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"Files\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"newInputStream\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"path\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"{\")]),_vm._v(\"\\n            \"),_c('span',{pre:true,attrs:{\"class\":\"token class-name\"}},[_vm._v(\"IoUtil\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"copy\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_vm._v(\"is\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\",\")]),_vm._v(\" response\"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\".\")]),_c('span',{pre:true,attrs:{\"class\":\"token function\"}},[_vm._v(\"getOutputStream\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"(\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\")\")]),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\";\")]),_vm._v(\"\\n        \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"token punctuation\"}},[_vm._v(\"}\")]),_vm._v(\"\\n\")])]),_vm._v(\" \"),_c('div',{staticClass:\"line-numbers-wrapper\"},[_c('span',{staticClass:\"line-number\"},[_vm._v(\"1\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"2\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"3\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"4\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"5\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"6\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"7\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"8\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"9\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"10\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"11\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"12\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"13\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"14\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"15\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"16\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"17\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"18\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"19\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"20\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"21\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"22\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"23\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"24\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"25\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"26\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"27\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"28\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"29\")]),_c('br'),_c('span',{staticClass:\"line-number\"},[_vm._v(\"30\")]),_c('br')])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"sourceRoot":""}